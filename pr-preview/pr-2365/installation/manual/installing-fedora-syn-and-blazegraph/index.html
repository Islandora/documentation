
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Documentation for Islandora">
      
      
      
        <link rel="canonical" href="https://islandora.github.io/documentation/installation/manual/installing-fedora-syn-and-blazegraph/">
      
      
        <link rel="prev" href="../installing-tomcat-and-cantaloupe/">
      
      
        <link rel="next" href="../installing-solr/">
      
      <link rel="icon" href="../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.4.2, mkdocs-material-9.0.12">
    
    
      
        <title>Installing Fedora, Syn, and Blazegraph - Islandora</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.0d440cfe.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.2505c338.min.css">
      
      

    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../css/custom.css">
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="green" data-md-color-accent="blue">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#installing-fedora-syn-and-blazegraph" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../.." title="Islandora" class="md-header__button md-logo" aria-label="Islandora" data-md-component="logo">
      
  <img src="../../../assets/Islandora_logo.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Islandora
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Installing Fedora, Syn, and Blazegraph
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/Islandora/documentation" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="Islandora" class="md-nav__button md-logo" aria-label="Islandora" data-md-component="logo">
      
  <img src="../../../assets/Islandora_logo.png" alt="logo">

    </a>
    Islandora
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/Islandora/documentation" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../.." class="md-nav__link">
        About
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../quickstart/" class="md-nav__link">
        Quickstart
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
      
      
      
        <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
          Concepts
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          Concepts
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../concepts/node-concepts/" class="md-nav__link">
        Nodes in Islandora
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../concepts/node-media/" class="md-nav__link">
        Media in Islandora
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../concepts/derivatives/" class="md-nav__link">
        Derivatives
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../concepts/rdf/" class="md-nav__link">
        RDF Repository
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../concepts/starter-site/" class="md-nav__link">
        Islandora Starter Site
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
      
      
      
        <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
          Behaviours (Models)
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          Behaviours (Models)
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../concepts/collection/" class="md-nav__link">
        Collections
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../user-documentation/paged-content/" class="md-nav__link">
        Paged Content
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../models/audio/" class="md-nav__link">
        Audio
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../models/video/" class="md-nav__link">
        Video
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" checked>
      
      
      
        <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
          Installation
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="true">
        <label class="md-nav__title" for="__nav_5">
          <span class="md-nav__icon md-icon"></span>
          Installation
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_1" >
      
      
      
        <label class="md-nav__link" for="__nav_5_1" id="__nav_5_1_label" tabindex="0">
          Release Notes
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_1_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_5_1">
          <span class="md-nav__icon md-icon"></span>
          Release Notes
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../release_notes/8.x-2.0/" class="md-nav__link">
        8.x-2.0 Release Notes
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="https://github.com/Islandora/documentation/tree/main/docs/release_notes" class="md-nav__link">
        Older Release Notes
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_2" >
      
      
      
        <label class="md-nav__link" for="__nav_5_2" id="__nav_5_2_label" tabindex="0">
          Docker
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_2_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_5_2">
          <span class="md-nav__icon md-icon"></span>
          Docker
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../docker/docker-introduction/" class="md-nav__link">
        Introduction to ISLE
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../docker/docker-prereq/" class="md-nav__link">
        Prerequisites
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_2_3" >
      
      
      
        <label class="md-nav__link" for="__nav_5_2_3" id="__nav_5_2_3_label" tabindex="0">
          ISLE-DC
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_5_2_3_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_5_2_3">
          <span class="md-nav__icon md-icon"></span>
          ISLE-DC
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_2_3_1" >
      
      
      
        <label class="md-nav__link" for="__nav_5_2_3_1" id="__nav_5_2_3_1_label" tabindex="0">
          Installing
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_5_2_3_1_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_5_2_3_1">
          <span class="md-nav__icon md-icon"></span>
          Installing
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../docker/isle-dc/docker-local/" class="md-nav__link">
        Installing a Development Server
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../docker/isle-dc/docker-custom/" class="md-nav__link">
        Installing a Staging/Production Server
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_2_3_2" >
      
      
      
        <label class="md-nav__link" for="__nav_5_2_3_2" id="__nav_5_2_3_2_label" tabindex="0">
          Maintaining
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_5_2_3_2_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_5_2_3_2">
          <span class="md-nav__icon md-icon"></span>
          Maintaining
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../docker/isle-dc/docker-basic-usage/" class="md-nav__link">
        Basic Usage
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../docker/isle-dc/docker-maintain-drupal/" class="md-nav__link">
        Maintaining Drupal
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../docker/isle-dc/docker-maintain-isle/" class="md-nav__link">
        Maintaining ISLE
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../docker/isle-dc/docker-available-commands/" class="md-nav__link">
        Available Commands
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../docker/isle-dc/docker-available-configuration/" class="md-nav__link">
        Available Configuration
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../docker/isle-dc/docker-troubleshooting/" class="md-nav__link">
        Troubleshooting
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_2_4" >
      
      
      
        <label class="md-nav__link" for="__nav_5_2_4" id="__nav_5_2_4_label" tabindex="0">
          ISLE Site Template
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_5_2_4_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_5_2_4">
          <span class="md-nav__icon md-icon"></span>
          ISLE Site Template
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../docker/site-template/site-template/" class="md-nav__link">
        Introduction to Site Template
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../docker/site-template/setup/" class="md-nav__link">
        Creating Your Site
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../docker/site-template/docker-modifications/" class="md-nav__link">
        Docker Modifications
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../docker/site-template/containers/" class="md-nav__link">
        Working in Your Containers
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../docker/site-template/updating/" class="md-nav__link">
        Updating
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../docker/site-template/backup/" class="md-nav__link">
        Back Up and Restore
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../docker/converting/" class="md-nav__link">
        Converting ISLE-DC to Site Template
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../playbook/" class="md-nav__link">
        Ansible Playbook
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_4" checked>
      
      
      
        <label class="md-nav__link" for="__nav_5_4" id="__nav_5_4_label" tabindex="0">
          Manual Installation
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_4_label" aria-expanded="true">
        <label class="md-nav__title" for="__nav_5_4">
          <span class="md-nav__icon md-icon"></span>
          Manual Installation
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../introduction/" class="md-nav__link">
        Introduction
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../preparing-a-webserver/" class="md-nav__link">
        Preparing a LAPP Webserver
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../installing-composer-drush-and-drupal/" class="md-nav__link">
        Installing Composer, Drush, and Drupal
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../installing-tomcat-and-cantaloupe/" class="md-nav__link">
        Installing Tomcat and Cantaloupe
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Installing Fedora, Syn, and Blazegraph
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Installing Fedora, Syn, and Blazegraph
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#in-this-section-we-will-install" class="md-nav__link">
    In this section, we will install:
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#fedora-6" class="md-nav__link">
    Fedora 6
  </a>
  
    <nav class="md-nav" aria-label="Fedora 6">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#stop-the-tomcat-service" class="md-nav__link">
    Stop the Tomcat Service
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#creating-a-working-space-for-fedora" class="md-nav__link">
    Creating a Working Space for Fedora
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#creating-a-database-for-fedora" class="md-nav__link">
    Creating a Database for Fedora
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#adding-a-fedora-configuration" class="md-nav__link">
    Adding a Fedora Configuration
  </a>
  
    <nav class="md-nav" aria-label="Adding a Fedora Configuration">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#namespace-prefixes" class="md-nav__link">
    Namespace prefixes
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#allowed-external-content-hosts" class="md-nav__link">
    Allowed External Content Hosts
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fedora-configuration-properties-file" class="md-nav__link">
    Fedora configuration properties file
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#adding-the-fedora-variables-to-java_opts" class="md-nav__link">
    Adding the Fedora Variables to JAVA_OPTS
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ensuring-tomcat-users-are-in-place" class="md-nav__link">
    Ensuring Tomcat Users Are In Place
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#downloading-and-placing-the-latest-release" class="md-nav__link">
    Downloading and Placing the Latest Release
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#start-the-tomcat-service" class="md-nav__link">
    Start the Tomcat Service
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#syn" class="md-nav__link">
    Syn
  </a>
  
    <nav class="md-nav" aria-label="Syn">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#downloading-the-syn-jar-file" class="md-nav__link">
    Downloading the Syn JAR File
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#generating-an-ssl-key-for-syn" class="md-nav__link">
    Generating an SSL Key for Syn
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#placing-the-syn-settings" class="md-nav__link">
    Placing the Syn Settings
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#adding-the-syn-valve-to-tomcat" class="md-nav__link">
    Adding the Syn Valve to Tomcat
  </a>
  
    <nav class="md-nav" aria-label="Adding the Syn Valve to Tomcat">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-enable-the-syn-valve-for-all-of-tomcat" class="md-nav__link">
    1. Enable the Syn Valve for all of Tomcat.
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-enable-the-syn-valve-for-only-fedora" class="md-nav__link">
    2. Enable the Syn Valve for only Fedora.
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#restarting-tomcat" class="md-nav__link">
    Restarting Tomcat
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#redhat-logging" class="md-nav__link">
    Redhat logging
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#blazegraph-2" class="md-nav__link">
    Blazegraph 2
  </a>
  
    <nav class="md-nav" aria-label="Blazegraph 2">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#creating-a-working-space-for-blazegraph" class="md-nav__link">
    Creating a Working Space for Blazegraph
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#downloading-and-placing-the-blazegraph-war" class="md-nav__link">
    Downloading and Placing the Blazegraph WAR
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#configuring-logging" class="md-nav__link">
    Configuring Logging
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#adding-a-blazegraph-configuration" class="md-nav__link">
    Adding a Blazegraph Configuration
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#specifying-the-rwstoreproperties-in-java_opts" class="md-nav__link">
    Specifying the RWStore.properties in JAVA_OPTS
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#restarting-tomcat_1" class="md-nav__link">
    Restarting Tomcat
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#installing-blazegraph-namespaces-and-inference" class="md-nav__link">
    Installing Blazegraph Namespaces and Inference
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../installing-solr/" class="md-nav__link">
        Installing Solr
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../installing-crayfish/" class="md-nav__link">
        Installing Crayfish
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../installing-alpaca/" class="md-nav__link">
        Installing Alpaca
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../configuring-drupal/" class="md-nav__link">
        Configuring Drupal
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../technical-documentation/install-enable-drupal-modules/" class="md-nav__link">
        Installing Modules
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
      
      
      
        <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
          Walkthroughs
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_6">
          <span class="md-nav__icon md-icon"></span>
          Walkthroughs
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../tutorials/create-a-resource-node/" class="md-nav__link">
        Create a Resource Node
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../tutorials/how-to-create-collection/" class="md-nav__link">
        Create a Collection
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../user-documentation/content-types/" class="md-nav__link">
        Modify or Create a Content Type
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../tutorials/blocks/" class="md-nav__link">
        Configure Blocks
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../tutorials/create-update-views/" class="md-nav__link">
        Create or Update a View
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../user-documentation/video-docs/" class="md-nav__link">
        Video Documentation
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../user-documentation/users/" class="md-nav__link">
        Create and Manage User Accounts
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7" >
      
      
      
        <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="0">
          Using Islandora
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_7">
          <span class="md-nav__icon md-icon"></span>
          Using Islandora
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../user-documentation/user-intro/" class="md-nav__link">
        Introduction
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_2" >
      
      
      
        <label class="md-nav__link" for="__nav_7_2" id="__nav_7_2_label" tabindex="0">
          Describing content
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_7_2_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_7_2">
          <span class="md-nav__icon md-icon"></span>
          Describing content
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../user-documentation/content-models/" class="md-nav__link">
        Content models
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../user-documentation/metadata/" class="md-nav__link">
        Metadata
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../user-documentation/starter-site-metadata-configuration/" class="md-nav__link">
        Starter Site Metadata Configuration
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../user-documentation/linked-data/" class="md-nav__link">
        Linked data
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../user-documentation/metadata-harvesting/" class="md-nav__link">
        Metadata harvesting
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_3" >
      
      
      
        <label class="md-nav__link" for="__nav_7_3" id="__nav_7_3_label" tabindex="0">
          Searching content
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_7_3_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_7_3">
          <span class="md-nav__icon md-icon"></span>
          Searching content
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../user-documentation/searching/" class="md-nav__link">
        Searching
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../user-documentation/advanced-search/" class="md-nav__link">
        Advanced search
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../user-documentation/faceting/" class="md-nav__link">
        Faceting
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_4" >
      
      
      
        <label class="md-nav__link" for="__nav_7_4" id="__nav_7_4_label" tabindex="0">
          Viewing content
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_7_4_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_7_4">
          <span class="md-nav__icon md-icon"></span>
          Viewing content
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../user-documentation/context/" class="md-nav__link">
        Context
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../user-documentation/file-viewers/" class="md-nav__link">
        File viewers
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../user-documentation/iiif/" class="md-nav__link">
        IIIF
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_5" >
      
      
      
        <label class="md-nav__link" for="__nav_7_5" id="__nav_7_5_label" tabindex="0">
          Handling content files
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_7_5_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_7_5">
          <span class="md-nav__icon md-icon"></span>
          Handling content files
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../user-documentation/media/" class="md-nav__link">
        Media
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../user-documentation/flysystem/" class="md-nav__link">
        Flysystem
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../user-documentation/uploading-large-files/" class="md-nav__link">
        Large files
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../user-documentation/transcripts/" class="md-nav__link">
        Transcripts
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_6" >
      
      
      
        <label class="md-nav__link" for="__nav_7_6" id="__nav_7_6_label" tabindex="0">
          Administering Islandora
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_7_6_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_7_6">
          <span class="md-nav__icon md-icon"></span>
          Administering Islandora
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../user-documentation/access-control/" class="md-nav__link">
        Access control
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../user-documentation/breadcrumbs/" class="md-nav__link">
        Breadcrumbs
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../user-documentation/jwt-authentication/" class="md-nav__link">
        JWT authentication
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../user-documentation/url-aliases/" class="md-nav__link">
        URL Aliases
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../user-documentation/usage-stats/" class="md-nav__link">
        Usage statistics
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../user-documentation/versioning/" class="md-nav__link">
        Versioning
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../user-documentation/accessibility/" class="md-nav__link">
        Accessibility
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../user-documentation/multilingual/" class="md-nav__link">
        Multilingual
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../user-documentation/extending/" class="md-nav__link">
        Extending Islandora
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8" >
      
      
      
        <label class="md-nav__link" for="__nav_8" id="__nav_8_label" tabindex="0">
          Documentation for Developers
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_8_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_8">
          <span class="md-nav__icon md-icon"></span>
          Documentation for Developers
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../component-overview/" class="md-nav__link">
        Stack Overview
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../technical-documentation/diagram/" class="md-nav__link">
        Architecture Diagram
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8_3" >
      
      
      
        <label class="md-nav__link" for="__nav_8_3" id="__nav_8_3_label" tabindex="0">
          REST Documentation
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_8_3_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_8_3">
          <span class="md-nav__icon md-icon"></span>
          REST Documentation
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../technical-documentation/using-rest-endpoints/" class="md-nav__link">
        Introduction
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../technical-documentation/rest-authorization/" class="md-nav__link">
        Authorization
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../technical-documentation/rest-get/" class="md-nav__link">
        GET
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../technical-documentation/rest-create/" class="md-nav__link">
        POST/PUT
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../technical-documentation/rest-patch/" class="md-nav__link">
        PATCH
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../technical-documentation/rest-delete/" class="md-nav__link">
        DELETE
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../technical-documentation/rest-signposting/" class="md-nav__link">
        Signposting
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8_4" >
      
      
      
        <label class="md-nav__link" for="__nav_8_4" id="__nav_8_4_label" tabindex="0">
          Alpaca
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_8_4_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_8_4">
          <span class="md-nav__icon md-icon"></span>
          Alpaca
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../alpaca/alpaca-technical-stack/" class="md-nav__link">
        Alpaca Technical Stack
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../technical-documentation/alpaca-tips/" class="md-nav__link">
        Alpaca Tips
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8_5" >
      
      
      
        <label class="md-nav__link" for="__nav_8_5" id="__nav_8_5_label" tabindex="0">
          Tests
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_8_5_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_8_5">
          <span class="md-nav__icon md-icon"></span>
          Tests
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../technical-documentation/testing-notes/" class="md-nav__link">
        Testing Notes
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../technical-documentation/resizing-vm/" class="md-nav__link">
        Resizing a VM
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../technical-documentation/updating-drupal/" class="md-nav__link">
        Updating Drupal
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../technical-documentation/ppa-documentation/" class="md-nav__link">
        Updating a `deb` and adding it to Lyrasis PPA
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../technical-documentation/adding-format-jsonld/" class="md-nav__link">
        Adding back ?_format=jsonld
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_9" >
      
      
      
        <label class="md-nav__link" for="__nav_9" id="__nav_9_label" tabindex="0">
          Migration/Batch Loading
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_9_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_9">
          <span class="md-nav__icon md-icon"></span>
          Migration/Batch Loading
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../technical-documentation/migration-overview/" class="md-nav__link">
        Migration Overview
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../technical-documentation/migration-rest-api/" class="md-nav__link">
        REST API
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../technical-documentation/migration-migrate-api/" class="md-nav__link">
        Migrate API
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../technical-documentation/migration-islandora-workbench/" class="md-nav__link">
        Islandora Workbench
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../technical-documentation/migrate-csv/" class="md-nav__link">
        CSV
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../technical-documentation/migrate-7x/" class="md-nav__link">
        Islandora 7
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10" >
      
      
      
        <label class="md-nav__link" for="__nav_10" id="__nav_10_label" tabindex="0">
          Contributing
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_10_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_10">
          <span class="md-nav__icon md-icon"></span>
          Contributing
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../contributing/CONTRIBUTING/" class="md-nav__link">
        How to contribute
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../contributing/testing-a-pull-request/" class="md-nav__link">
        Testing a Pull Request
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../technical-documentation/running-automated-tests/" class="md-nav__link">
        Running Tests
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../technical-documentation/checking-coding-standards/" class="md-nav__link">
        Checking Coding Standards
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../contributing/contributing-workflow/" class="md-nav__link">
        Contributing Workflow
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../contributing/create-issues/" class="md-nav__link">
        Creating GitHub Issues
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../technical-documentation/versioning/" class="md-nav__link">
        Versioning Policy
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../contributing/releasing-islandora/" class="md-nav__link">
        How to release
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../contributing/editing-docs/" class="md-nav__link">
        How to Edit Documentation
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../technical-documentation/docs-build/" class="md-nav__link">
        How to Build Documentation
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../contributing/docs-style-guide/" class="md-nav__link">
        Documentation Style Guide
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../contributing/committers/" class="md-nav__link">
        Committers
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../contributing/sandbox/" class="md-nav__link">
        Maintaining the Sandbox
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../../user-documentation/glossary/" class="md-nav__link">
        Glossary
      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#in-this-section-we-will-install" class="md-nav__link">
    In this section, we will install:
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#fedora-6" class="md-nav__link">
    Fedora 6
  </a>
  
    <nav class="md-nav" aria-label="Fedora 6">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#stop-the-tomcat-service" class="md-nav__link">
    Stop the Tomcat Service
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#creating-a-working-space-for-fedora" class="md-nav__link">
    Creating a Working Space for Fedora
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#creating-a-database-for-fedora" class="md-nav__link">
    Creating a Database for Fedora
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#adding-a-fedora-configuration" class="md-nav__link">
    Adding a Fedora Configuration
  </a>
  
    <nav class="md-nav" aria-label="Adding a Fedora Configuration">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#namespace-prefixes" class="md-nav__link">
    Namespace prefixes
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#allowed-external-content-hosts" class="md-nav__link">
    Allowed External Content Hosts
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fedora-configuration-properties-file" class="md-nav__link">
    Fedora configuration properties file
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#adding-the-fedora-variables-to-java_opts" class="md-nav__link">
    Adding the Fedora Variables to JAVA_OPTS
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ensuring-tomcat-users-are-in-place" class="md-nav__link">
    Ensuring Tomcat Users Are In Place
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#downloading-and-placing-the-latest-release" class="md-nav__link">
    Downloading and Placing the Latest Release
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#start-the-tomcat-service" class="md-nav__link">
    Start the Tomcat Service
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#syn" class="md-nav__link">
    Syn
  </a>
  
    <nav class="md-nav" aria-label="Syn">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#downloading-the-syn-jar-file" class="md-nav__link">
    Downloading the Syn JAR File
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#generating-an-ssl-key-for-syn" class="md-nav__link">
    Generating an SSL Key for Syn
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#placing-the-syn-settings" class="md-nav__link">
    Placing the Syn Settings
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#adding-the-syn-valve-to-tomcat" class="md-nav__link">
    Adding the Syn Valve to Tomcat
  </a>
  
    <nav class="md-nav" aria-label="Adding the Syn Valve to Tomcat">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-enable-the-syn-valve-for-all-of-tomcat" class="md-nav__link">
    1. Enable the Syn Valve for all of Tomcat.
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-enable-the-syn-valve-for-only-fedora" class="md-nav__link">
    2. Enable the Syn Valve for only Fedora.
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#restarting-tomcat" class="md-nav__link">
    Restarting Tomcat
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#redhat-logging" class="md-nav__link">
    Redhat logging
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#blazegraph-2" class="md-nav__link">
    Blazegraph 2
  </a>
  
    <nav class="md-nav" aria-label="Blazegraph 2">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#creating-a-working-space-for-blazegraph" class="md-nav__link">
    Creating a Working Space for Blazegraph
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#downloading-and-placing-the-blazegraph-war" class="md-nav__link">
    Downloading and Placing the Blazegraph WAR
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#configuring-logging" class="md-nav__link">
    Configuring Logging
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#adding-a-blazegraph-configuration" class="md-nav__link">
    Adding a Blazegraph Configuration
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#specifying-the-rwstoreproperties-in-java_opts" class="md-nav__link">
    Specifying the RWStore.properties in JAVA_OPTS
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#restarting-tomcat_1" class="md-nav__link">
    Restarting Tomcat
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#installing-blazegraph-namespaces-and-inference" class="md-nav__link">
    Installing Blazegraph Namespaces and Inference
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
    <a href="https://github.com/Islandora/documentation/edit/main/docs/installation/manual/installing-fedora-syn-and-blazegraph.md" title="Edit this page" class="md-content__button md-icon">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25Z"/></svg>
    </a>
  
  



<h1 id="installing-fedora-syn-and-blazegraph">Installing Fedora, Syn, and Blazegraph<a class="headerlink" href="#installing-fedora-syn-and-blazegraph" title="Permanent link">&para;</a></h1>
<h2 id="in-this-section-we-will-install">In this section, we will install:<a class="headerlink" href="#in-this-section-we-will-install" title="Permanent link">&para;</a></h2>
<ul>
<li><a href="https://fedora.lyrasis.org/">Fedora 6</a>, the back-end repository that Islandora will use</li>
<li><a href="https://github.com/Islandora/Syn">Syn</a>, the authentication broker that will manage communication with Fedora</li>
<li><a href="https://blazegraph.com/">Blazegraph</a>, the resource index layer on top of Fedora for managing discoverability via RDF</li>
</ul>
<h2 id="fedora-6">Fedora 6<a class="headerlink" href="#fedora-6" title="Permanent link">&para;</a></h2>
<h3 id="stop-the-tomcat-service">Stop the Tomcat Service<a class="headerlink" href="#stop-the-tomcat-service" title="Permanent link">&para;</a></h3>
<p>We're going to stop the Tomcat service while working on setting up Fedora to prevent any autodeploy misconfigurations.</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a>sudo<span class="w"> </span>systemctl<span class="w"> </span>stop<span class="w"> </span>tomcat
</span></code></pre></div>
<h3 id="creating-a-working-space-for-fedora">Creating a Working Space for Fedora<a class="headerlink" href="#creating-a-working-space-for-fedora" title="Permanent link">&para;</a></h3>
<p>Fedora’s configuration and data won’t live with Tomcat itself; rather, we’re going to prepare a space for them to make them easier to manage.</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-1-1"><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a>sudo<span class="w"> </span>mkdir<span class="w"> </span>-p<span class="w"> </span>/opt/fcrepo/data/objects
</span><span id="__span-1-2"><a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a>sudo<span class="w"> </span>mkdir<span class="w"> </span>/opt/fcrepo/config
</span><span id="__span-1-3"><a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a>sudo<span class="w"> </span>chown<span class="w"> </span>-R<span class="w"> </span>tomcat:tomcat<span class="w"> </span>/opt/fcrepo
</span></code></pre></div>
<h3 id="creating-a-database-for-fedora">Creating a Database for Fedora<a class="headerlink" href="#creating-a-database-for-fedora" title="Permanent link">&para;</a></h3>
<p>The method for creating the database here will closely mimic the method we used to create our database for Drupal.</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-2-1"><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a>sudo<span class="w"> </span>mysql<span class="w"> </span>-u<span class="w"> </span>root
</span><span id="__span-2-2"><a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a>CREATE<span class="w"> </span>DATABASE<span class="w"> </span><span class="o">[</span>FEDORA_DB<span class="o">]</span><span class="p">;</span>
</span><span id="__span-2-3"><a id="__codelineno-2-3" name="__codelineno-2-3" href="#__codelineno-2-3"></a>CREATE<span class="w"> </span>USER<span class="w"> </span><span class="s1">&#39;[MYSQL_USER_FOR_FEDORA]&#39;</span>@<span class="s1">&#39;localhost&#39;</span><span class="w"> </span>IDENTIFIED<span class="w"> </span>BY<span class="w"> </span><span class="s1">&#39;[MYSQL_PASSWORD_FOR_FEDORA]&#39;</span><span class="p">;</span>
</span><span id="__span-2-4"><a id="__codelineno-2-4" name="__codelineno-2-4" href="#__codelineno-2-4"></a>GRANT<span class="w"> </span>ALL<span class="w"> </span>PRIVILEGES<span class="w"> </span>ON<span class="w"> </span><span class="o">[</span>FEDORA_DB<span class="o">]</span>.*<span class="w"> </span>TO<span class="w"> </span><span class="s1">&#39;[MYSQL_USER_FOR_FEDORA]&#39;</span>@<span class="s1">&#39;localhost&#39;</span><span class="p">;</span>
</span></code></pre></div>
<ul>
<li><code>FEDORA_DB</code>: <code>fcrepo</code><ul>
<li>This will be used as the database Fedora will store the repository in.</li>
</ul>
</li>
<li><code>FEDORA_DB_USER</code>: <code>fedora</code></li>
<li><code>FEDORA_DB_PASSWORD</code>: <code>fedora</code><ul>
<li>Again, this should be a secure password of some kind; leaving it as <code>fedora</code> is not recommended.</li>
</ul>
</li>
</ul>
<h3 id="adding-a-fedora-configuration">Adding a Fedora Configuration<a class="headerlink" href="#adding-a-fedora-configuration" title="Permanent link">&para;</a></h3>
<p>The Fedora configuration is going to come in a few different chunks that need to be in place before Fedora will be functional. We’re going to place several files outright, with mildly modified parameters according to our configuration.</p>
<p>The basics of these configuration files have been pulled largely from the templates in Islandora-Devops/islandora-playbook <a href="https://github.com/Islandora-Devops/islandora-playbook/tree/dev/roles/internal/Islandora-Devops.fcrepo">internal Fedora role</a>; you may consider referencing the playbook’s templates directory for more details.</p>
<h4 id="namespace-prefixes">Namespace prefixes<a class="headerlink" href="#namespace-prefixes" title="Permanent link">&para;</a></h4>
<p><code>i8_namespaces.yml</code> is a list of namespaces used by Islandora that may not necessarily be present in Fedora; we add them here to ensure we can use them in queries.</p>
<p><code>/opt/fcrepo/config/i8_namespaces.yml | tomcat:tomcat/644</code>
<div class="language-yaml copy highlight"><pre><span></span><code><span id="__span-3-1"><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a><span class="c1"># Islandora 8/Fedora namespaces</span>
</span><span id="__span-3-2"><a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a><span class="c1">#</span>
</span><span id="__span-3-3"><a id="__codelineno-3-3" name="__codelineno-3-3" href="#__codelineno-3-3"></a><span class="c1"># This file contains ALL the prefix mappings, if a URI</span>
</span><span id="__span-3-4"><a id="__codelineno-3-4" name="__codelineno-3-4" href="#__codelineno-3-4"></a><span class="c1"># does not appear in this file it will be displayed as </span>
</span><span id="__span-3-5"><a id="__codelineno-3-5" name="__codelineno-3-5" href="#__codelineno-3-5"></a><span class="c1"># the full URI in Fedora. </span>
</span><span id="__span-3-6"><a id="__codelineno-3-6" name="__codelineno-3-6" href="#__codelineno-3-6"></a><span class="nt">acl</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">http://www.w3.org/ns/auth/acl#</span>
</span><span id="__span-3-7"><a id="__codelineno-3-7" name="__codelineno-3-7" href="#__codelineno-3-7"></a><span class="nt">bf</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">http://id.loc.gov/ontologies/bibframe/</span>
</span><span id="__span-3-8"><a id="__codelineno-3-8" name="__codelineno-3-8" href="#__codelineno-3-8"></a><span class="nt">cc</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">http://creativecommons.org/ns#</span>
</span><span id="__span-3-9"><a id="__codelineno-3-9" name="__codelineno-3-9" href="#__codelineno-3-9"></a><span class="nt">dc</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">http://purl.org/dc/elements/1.1/</span>
</span><span id="__span-3-10"><a id="__codelineno-3-10" name="__codelineno-3-10" href="#__codelineno-3-10"></a><span class="nt">dcterms</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">http://purl.org/dc/terms/</span>
</span><span id="__span-3-11"><a id="__codelineno-3-11" name="__codelineno-3-11" href="#__codelineno-3-11"></a><span class="nt">dwc</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">http://rs.tdwg.org/dwc/terms/</span>
</span><span id="__span-3-12"><a id="__codelineno-3-12" name="__codelineno-3-12" href="#__codelineno-3-12"></a><span class="nt">ebucore</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">http://www.ebu.ch/metadata/ontologies/ebucore/ebucore#</span>
</span><span id="__span-3-13"><a id="__codelineno-3-13" name="__codelineno-3-13" href="#__codelineno-3-13"></a><span class="nt">exif</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">http://www.w3.org/2003/12/exif/ns#</span>
</span><span id="__span-3-14"><a id="__codelineno-3-14" name="__codelineno-3-14" href="#__codelineno-3-14"></a><span class="nt">fedoraconfig</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">http://fedora.info/definitions/v4/config#</span>
</span><span id="__span-3-15"><a id="__codelineno-3-15" name="__codelineno-3-15" href="#__codelineno-3-15"></a><span class="nt">fedoramodel</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">info:fedora/fedora-system:def/model#</span>
</span><span id="__span-3-16"><a id="__codelineno-3-16" name="__codelineno-3-16" href="#__codelineno-3-16"></a><span class="nt">foaf</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">http://xmlns.com/foaf/0.1/</span>
</span><span id="__span-3-17"><a id="__codelineno-3-17" name="__codelineno-3-17" href="#__codelineno-3-17"></a><span class="nt">geo</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">http://www.w3.org/2003/01/geo/wgs84_pos#</span>
</span><span id="__span-3-18"><a id="__codelineno-3-18" name="__codelineno-3-18" href="#__codelineno-3-18"></a><span class="nt">gn</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">http://www.geonames.org/ontology#</span>
</span><span id="__span-3-19"><a id="__codelineno-3-19" name="__codelineno-3-19" href="#__codelineno-3-19"></a><span class="nt">iana</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">http://www.iana.org/assignments/relation/</span>
</span><span id="__span-3-20"><a id="__codelineno-3-20" name="__codelineno-3-20" href="#__codelineno-3-20"></a><span class="nt">islandorarelsext</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">http://islandora.ca/ontology/relsext#</span>
</span><span id="__span-3-21"><a id="__codelineno-3-21" name="__codelineno-3-21" href="#__codelineno-3-21"></a><span class="nt">islandorarelsint</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">http://islandora.ca/ontology/relsint#</span>
</span><span id="__span-3-22"><a id="__codelineno-3-22" name="__codelineno-3-22" href="#__codelineno-3-22"></a><span class="nt">ldp</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">http://www.w3.org/ns/ldp#</span>
</span><span id="__span-3-23"><a id="__codelineno-3-23" name="__codelineno-3-23" href="#__codelineno-3-23"></a><span class="nt">memento</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">http://mementoweb.org/ns#</span>
</span><span id="__span-3-24"><a id="__codelineno-3-24" name="__codelineno-3-24" href="#__codelineno-3-24"></a><span class="nt">nfo</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">http://www.semanticdesktop.org/ontologies/2007/03/22/nfo#</span>
</span><span id="__span-3-25"><a id="__codelineno-3-25" name="__codelineno-3-25" href="#__codelineno-3-25"></a><span class="nt">ore</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">http://www.openarchives.org/ore/terms/</span>
</span><span id="__span-3-26"><a id="__codelineno-3-26" name="__codelineno-3-26" href="#__codelineno-3-26"></a><span class="nt">owl</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">http://www.w3.org/2002/07/owl#</span>
</span><span id="__span-3-27"><a id="__codelineno-3-27" name="__codelineno-3-27" href="#__codelineno-3-27"></a><span class="nt">premis</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">http://www.loc.gov/premis/rdf/v1#</span>
</span><span id="__span-3-28"><a id="__codelineno-3-28" name="__codelineno-3-28" href="#__codelineno-3-28"></a><span class="nt">prov</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">http://www.w3.org/ns/prov#</span>
</span><span id="__span-3-29"><a id="__codelineno-3-29" name="__codelineno-3-29" href="#__codelineno-3-29"></a><span class="nt">rdf</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">http://www.w3.org/1999/02/22-rdf-syntax-ns#</span>
</span><span id="__span-3-30"><a id="__codelineno-3-30" name="__codelineno-3-30" href="#__codelineno-3-30"></a><span class="nt">rdfs</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">http://www.w3.org/2000/01/rdf-schema#</span>
</span><span id="__span-3-31"><a id="__codelineno-3-31" name="__codelineno-3-31" href="#__codelineno-3-31"></a><span class="nt">rel</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">http://id.loc.gov/vocabulary/relators/</span>
</span><span id="__span-3-32"><a id="__codelineno-3-32" name="__codelineno-3-32" href="#__codelineno-3-32"></a><span class="nt">schema</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">http://schema.org/</span>
</span><span id="__span-3-33"><a id="__codelineno-3-33" name="__codelineno-3-33" href="#__codelineno-3-33"></a><span class="nt">skos</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">http://www.w3.org/2004/02/skos/core#</span>
</span><span id="__span-3-34"><a id="__codelineno-3-34" name="__codelineno-3-34" href="#__codelineno-3-34"></a><span class="nt">test</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">info:fedora/test/</span>
</span><span id="__span-3-35"><a id="__codelineno-3-35" name="__codelineno-3-35" href="#__codelineno-3-35"></a><span class="nt">vcard</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">http://www.w3.org/2006/vcard/ns#</span>
</span><span id="__span-3-36"><a id="__codelineno-3-36" name="__codelineno-3-36" href="#__codelineno-3-36"></a><span class="nt">webac</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">http://fedora.info/definitions/v4/webac#</span>
</span><span id="__span-3-37"><a id="__codelineno-3-37" name="__codelineno-3-37" href="#__codelineno-3-37"></a><span class="nt">xml</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">http://www.w3.org/XML/1998/namespace</span>
</span><span id="__span-3-38"><a id="__codelineno-3-38" name="__codelineno-3-38" href="#__codelineno-3-38"></a><span class="nt">xmlns</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">http://www.w3.org/2000/xmlns/</span>
</span><span id="__span-3-39"><a id="__codelineno-3-39" name="__codelineno-3-39" href="#__codelineno-3-39"></a><span class="nt">xs</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">http://www.w3.org/2001/XMLSchema</span>
</span><span id="__span-3-40"><a id="__codelineno-3-40" name="__codelineno-3-40" href="#__codelineno-3-40"></a><span class="nt">xsi</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">http://www.w3.org/2001/XMLSchema-instance</span>
</span></code></pre></div></p>
<h4 id="allowed-external-content-hosts">Allowed External Content Hosts<a class="headerlink" href="#allowed-external-content-hosts" title="Permanent link">&para;</a></h4>
<p>We have Fedora provide metadata for some resources that are contained in Drupal. Fedora needs to know to allow access to these External Content hosts.</p>
<p>We create a file <code>/opt/fcrepo/config/allowed_external_hosts.txt | tomcat:tomcat/644</code>
<div class="language-text highlight"><pre><span></span><code><span id="__span-4-1"><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a>http://localhost:8000/
</span></code></pre></div></p>
<p><strong>Note</strong>: the trailing backslash is important here. For more information on Fedora's External Content and configuring it, see the <a href="https://wiki.lyrasis.org/display/FEDORA6x/External+Content">Fedora Wiki pages</a></p>
<h4 id="fedora-configuration-properties-file">Fedora configuration properties file<a class="headerlink" href="#fedora-configuration-properties-file" title="Permanent link">&para;</a></h4>
<p>Fedora 6 now allows you to put all your configuration properties into a single file. We use <code>0640</code> permissions as you will want to put your database credentials in here.</p>
<p><code>/opt/fcrepo/config/fcrepo.properties | tomcat:tomcat/640</code>
<div class="language-text copy highlight"><pre><span></span><code><span id="__span-5-1"><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a>fcrepo.home=FCREPO_HOME
</span><span id="__span-5-2"><a id="__codelineno-5-2" name="__codelineno-5-2" href="#__codelineno-5-2"></a># External content using path defined above.
</span><span id="__span-5-3"><a id="__codelineno-5-3" name="__codelineno-5-3" href="#__codelineno-5-3"></a>fcrepo.external.content.allowed=/opt/fcrepo/config/allowed_external_hosts.txt
</span><span id="__span-5-4"><a id="__codelineno-5-4" name="__codelineno-5-4" href="#__codelineno-5-4"></a># Namespace registry using path defined above.
</span><span id="__span-5-5"><a id="__codelineno-5-5" name="__codelineno-5-5" href="#__codelineno-5-5"></a>fcrepo.namespace.registry=/opt/fcrepo/config/i8_namespaces.yml
</span><span id="__span-5-6"><a id="__codelineno-5-6" name="__codelineno-5-6" href="#__codelineno-5-6"></a>fcrepo.auth.principal.header.enabled=true
</span><span id="__span-5-7"><a id="__codelineno-5-7" name="__codelineno-5-7" href="#__codelineno-5-7"></a># The principal header is the syn-setting.xml &quot;config&quot; element&#39;s &quot;header&quot; attribute
</span><span id="__span-5-8"><a id="__codelineno-5-8" name="__codelineno-5-8" href="#__codelineno-5-8"></a>fcrepo.auth.principal.header.name=X-Islandora
</span><span id="__span-5-9"><a id="__codelineno-5-9" name="__codelineno-5-9" href="#__codelineno-5-9"></a># false to use manual versioning, true to create a version on each change
</span><span id="__span-5-10"><a id="__codelineno-5-10" name="__codelineno-5-10" href="#__codelineno-5-10"></a>fcrepo.autoversioning.enabled=true
</span><span id="__span-5-11"><a id="__codelineno-5-11" name="__codelineno-5-11" href="#__codelineno-5-11"></a>fcrepo.db.url=FCREPO_DB_URL
</span><span id="__span-5-12"><a id="__codelineno-5-12" name="__codelineno-5-12" href="#__codelineno-5-12"></a>fcrepo.db.user=FCREPO_DB_USERNAME
</span><span id="__span-5-13"><a id="__codelineno-5-13" name="__codelineno-5-13" href="#__codelineno-5-13"></a>fcrepo.db.password=FCREPO_DB_PASSWORD
</span><span id="__span-5-14"><a id="__codelineno-5-14" name="__codelineno-5-14" href="#__codelineno-5-14"></a>fcrepo.ocfl.root=FCREPO_OCFL_ROOT
</span><span id="__span-5-15"><a id="__codelineno-5-15" name="__codelineno-5-15" href="#__codelineno-5-15"></a>fcrepo.ocfl.temp=FCREPO_TEMP_ROOT
</span><span id="__span-5-16"><a id="__codelineno-5-16" name="__codelineno-5-16" href="#__codelineno-5-16"></a>fcrepo.ocfl.staging=FCREPO_STAGING_ROOT
</span><span id="__span-5-17"><a id="__codelineno-5-17" name="__codelineno-5-17" href="#__codelineno-5-17"></a># Can be sha512 or sha256
</span><span id="__span-5-18"><a id="__codelineno-5-18" name="__codelineno-5-18" href="#__codelineno-5-18"></a>fcrepo.persistence.defaultDigestAlgorithm=sha512
</span><span id="__span-5-19"><a id="__codelineno-5-19" name="__codelineno-5-19" href="#__codelineno-5-19"></a># Jms moved from 61616 to allow external ActiveMQ to use that port
</span><span id="__span-5-20"><a id="__codelineno-5-20" name="__codelineno-5-20" href="#__codelineno-5-20"></a>fcrepo.dynamic.jms.port=61626
</span><span id="__span-5-21"><a id="__codelineno-5-21" name="__codelineno-5-21" href="#__codelineno-5-21"></a># Same as above
</span><span id="__span-5-22"><a id="__codelineno-5-22" name="__codelineno-5-22" href="#__codelineno-5-22"></a>fcrepo.dynamic.stomp.port=61623
</span><span id="__span-5-23"><a id="__codelineno-5-23" name="__codelineno-5-23" href="#__codelineno-5-23"></a>fcrepo.velocity.runtime.log=FCREPO_VELOCITY_LOG
</span><span id="__span-5-24"><a id="__codelineno-5-24" name="__codelineno-5-24" href="#__codelineno-5-24"></a>fcrepo.jms.baseUrl=FCREPO_JMS_BASE
</span></code></pre></div></p>
<ul>
<li><code>FCREPO_HOME</code> - The home directory for all Fedora generated output and state.  Unless otherwise specified, all logs, metadata, binaries, and internally generated indexes, etc. It would default to the Tomcat starting directory. A good default would be <code>/opt/fcrepo</code></li>
<li>
<p><code>FCREPO_DB_URL</code> - This parameter allows you to set the database connection url. In general the format is as follows:</p>
<p><code>jdbc:&lt;database_type&gt;://&lt;database_host&gt;:&lt;database_port&gt;/&lt;database_name&gt;</code> </p>
<p>Fedora currently supports H2, PostgresQL 12.3, MariaDB 10.5.3, and MySQL 8.0</p>
<p>So using the default ports for the supported databases here are the values we typically use:</p>
<ul>
<li>PostgresQL: <code>jdbc:postgresql://localhost:5432/fcrepo</code></li>
<li>MariaDB:  <code>jdbc:mariadb://localhost:3306/fcrepo</code></li>
<li>MySQL:  <code>jdbc:mysql://localhost:3306/fcrepo</code></li>
</ul>
</li>
<li>
<p><code>FCREPO_DB_USERNAME</code> - The database username</p>
</li>
<li><code>FCREPO_DB_PASSWORD</code> - The database password</li>
<li><code>FCREPO_OCFL_ROOT</code> - Sets the root directory of the OCFL. Defaults to <code>FCREPO_HOME/data/ocfl-root</code> if this line is deleted.</li>
<li><code>FCREPO_TEMP_ROOT</code> - Sets the temp directory used by OCFL. Defaults to <code>FCREPO_HOME/data/temp</code> if this line is deleted.</li>
<li><code>FCREPO_STAGING_ROOT</code> - Sets the staging directory used by OCFL. Defaults to <code>FCREPO_HOME/data/staging</code> if this line is deleted.</li>
<li><code>FCREPO_VELOCITY_LOG</code> - The Fedora HTML template code uses Apache Velocity, which generates a runtime log called velocity.log. Defaults to <code>FCREPO_HOME/logs/velocity</code>. A good choice might be /opt/tomcat/logs/velocity.log</li>
<li><code>FCREPO_JMS_BASE</code> - This specifies the baseUrl to use when generating JMS messages. You can specify the hostname with or without port and with or without path. If your system is behind a NAT firewall you may need this to avoid your message consumers trying to access the system on an invalid port. If this system property is not set, the host, port and context from the user's request will be used in the emitted JMS messages. If your Alpaca is on the same machine as your Fedora and you use the <code>islandora-indexing-fcrepo</code>, you could use http://localhost:8080/fcrepo/rest. </li>
</ul>
<p>Check the Lyrasis Wiki to find all of <a href="https://wiki.lyrasis.org/display/FEDORA6x/Properties">Fedora's properties</a></p>
<h3 id="adding-the-fedora-variables-to-java_opts">Adding the Fedora Variables to <code>JAVA_OPTS</code><a class="headerlink" href="#adding-the-fedora-variables-to-java_opts" title="Permanent link">&para;</a></h3>
<p>We need our Tomcat <code>JAVA_OPTS</code> to include references to our repository configuration.</p>
<p><code>/opt/tomcat/bin/setenv.sh</code></p>
<p><strong>Before</strong>:</p>
<blockquote>
<p>3 | export JAVA_OPTS="-Djava.awt.headless=true -server -Xmx1500m -Xms1000m"</p>
</blockquote>
<p><strong>After</strong>:</p>
<blockquote>
<p>3 | export JAVA_OPTS="-Djava.awt.headless=true -Dfcrepo.config.file=/opt/fcrepo/config/fcrepo.properties -DconnectionTimeout=-1 -server -Xmx1500m -Xms1000m"</p>
</blockquote>
<h3 id="ensuring-tomcat-users-are-in-place">Ensuring Tomcat Users Are In Place<a class="headerlink" href="#ensuring-tomcat-users-are-in-place" title="Permanent link">&para;</a></h3>
<p>While not strictly necessary, we can use the <code>tomcat-users.xml</code> file to give us direct access to the Fedora endpoint. Fedora defines, out of the box, a <code>fedoraAdmin</code> and <code>fedoraUser</code> role that can be reflected in the users list for access. The following file will also include the base <code>tomcat</code> user. As always, these default passwords should likely not stay as the defaults.</p>
<p><code>/opt/tomcat/conf/tomcat-users.xml | tomcat:tomcat/600</code>
<div class="language-xml copy highlight"><pre><span></span><code><span id="__span-6-1"><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a><span class="cp">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>
</span><span id="__span-6-2"><a id="__codelineno-6-2" name="__codelineno-6-2" href="#__codelineno-6-2"></a><span class="nt">&lt;tomcat-users</span><span class="w"> </span><span class="na">xmlns=</span><span class="s">&quot;http://tomcat.apache.org/xml&quot;</span>
</span><span id="__span-6-3"><a id="__codelineno-6-3" name="__codelineno-6-3" href="#__codelineno-6-3"></a><span class="w">              </span><span class="na">xmlns:xsi=</span><span class="s">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span>
</span><span id="__span-6-4"><a id="__codelineno-6-4" name="__codelineno-6-4" href="#__codelineno-6-4"></a><span class="w">              </span><span class="na">xsi:schemaLocation=</span><span class="s">&quot;http://tomcat.apache.org/xml tomcat-users.xsd&quot;</span>
</span><span id="__span-6-5"><a id="__codelineno-6-5" name="__codelineno-6-5" href="#__codelineno-6-5"></a><span class="w">              </span><span class="na">version=</span><span class="s">&quot;1.0&quot;</span><span class="nt">&gt;</span>
</span><span id="__span-6-6"><a id="__codelineno-6-6" name="__codelineno-6-6" href="#__codelineno-6-6"></a><span class="w">  </span><span class="nt">&lt;role</span><span class="w"> </span><span class="na">rolename=</span><span class="s">&quot;tomcat&quot;</span><span class="nt">/&gt;</span>
</span><span id="__span-6-7"><a id="__codelineno-6-7" name="__codelineno-6-7" href="#__codelineno-6-7"></a><span class="w">  </span><span class="nt">&lt;role</span><span class="w"> </span><span class="na">rolename=</span><span class="s">&quot;fedoraAdmin&quot;</span><span class="nt">/&gt;</span>
</span><span id="__span-6-8"><a id="__codelineno-6-8" name="__codelineno-6-8" href="#__codelineno-6-8"></a><span class="w">  </span><span class="nt">&lt;role</span><span class="w"> </span><span class="na">rolename=</span><span class="s">&quot;fedoraUser&quot;</span><span class="nt">/&gt;</span>
</span><span id="__span-6-9"><a id="__codelineno-6-9" name="__codelineno-6-9" href="#__codelineno-6-9"></a><span class="w">  </span><span class="nt">&lt;user</span><span class="w"> </span><span class="na">username=</span><span class="s">&quot;tomcat&quot;</span><span class="w"> </span><span class="na">password=</span><span class="s">&quot;TOMCAT_PASSWORD&quot;</span><span class="w"> </span><span class="na">roles=</span><span class="s">&quot;tomcat&quot;</span><span class="nt">/&gt;</span>
</span><span id="__span-6-10"><a id="__codelineno-6-10" name="__codelineno-6-10" href="#__codelineno-6-10"></a><span class="w">  </span><span class="nt">&lt;user</span><span class="w"> </span><span class="na">username=</span><span class="s">&quot;fedoraAdmin&quot;</span><span class="w"> </span><span class="na">password=</span><span class="s">&quot;FEDORA_ADMIN_PASSWORD&quot;</span><span class="w"> </span><span class="na">roles=</span><span class="s">&quot;fedoraAdmin&quot;</span><span class="nt">/&gt;</span>
</span><span id="__span-6-11"><a id="__codelineno-6-11" name="__codelineno-6-11" href="#__codelineno-6-11"></a><span class="w">  </span><span class="nt">&lt;user</span><span class="w"> </span><span class="na">username=</span><span class="s">&quot;fedoraUser&quot;</span><span class="w"> </span><span class="na">password=</span><span class="s">&quot;FEDORA_USER_PASSWORD&quot;</span><span class="w"> </span><span class="na">roles=</span><span class="s">&quot;fedoraUser&quot;</span><span class="nt">/&gt;</span>
</span><span id="__span-6-12"><a id="__codelineno-6-12" name="__codelineno-6-12" href="#__codelineno-6-12"></a><span class="nt">&lt;/tomcat-users&gt;</span>
</span></code></pre></div></p>
<ul>
<li><code>TOMCAT_PASSWORD</code>: <code>tomcat</code></li>
<li><code>FEDORA_ADMIN_PASSWORD</code>: <code>islandora</code></li>
<li><code>FEDORA_USER_PASSWORD</code>: <code>islandora</code></li>
</ul>
<h3 id="downloading-and-placing-the-latest-release">Downloading and Placing the Latest Release<a class="headerlink" href="#downloading-and-placing-the-latest-release" title="Permanent link">&para;</a></h3>
<p>Fedora <code>.war</code> files are packaged up as releases on the official GitHub repository. You should download the most recent stable release.</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-7-1"><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a>sudo<span class="w"> </span>wget<span class="w"> </span>-O<span class="w"> </span>fcrepo.war<span class="w"> </span>FCREPO_WAR_URL
</span><span id="__span-7-2"><a id="__codelineno-7-2" name="__codelineno-7-2" href="#__codelineno-7-2"></a>sudo<span class="w"> </span>mv<span class="w"> </span>fcrepo.war<span class="w"> </span>/opt/tomcat/webapps
</span><span id="__span-7-3"><a id="__codelineno-7-3" name="__codelineno-7-3" href="#__codelineno-7-3"></a>sudo<span class="w"> </span>chown<span class="w"> </span>tomcat:tomcat<span class="w"> </span>/opt/tomcat/webapps/fcrepo.war
</span></code></pre></div>
<ul>
<li><code>FCREPO_WAR_URL</code>: This can be found at the <a href="https://github.com/fcrepo/fcrepo/releases">fcrepo downloads page</a>; the file you're looking for is:<ul>
<li>Tagged in green as the 'Latest release'</li>
<li>Named "fcrepo-webapp-VERSION.war"</li>
</ul>
</li>
</ul>
<h3 id="start-the-tomcat-service">Start the Tomcat Service<a class="headerlink" href="#start-the-tomcat-service" title="Permanent link">&para;</a></h3>
<p>As before, start the Tomcat service to get Fedora up and running.</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-8-1"><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a>sudo<span class="w"> </span>systemctl<span class="w"> </span>start<span class="w"> </span>tomcat
</span></code></pre></div>
<p><strong>Note:</strong> sometimes it takes a while for Fedora and Tomcat to start up, usually it shouldn't take longer than 5 minutes.</p>
<p>Once it starts up, Fedora REST API should be available at http://localhost:8080/fcrepo/rest. The username is fedoraAdmin and we defined the password before as <code>FEDORA_ADMIN_PASSWORD</code> (default: "islandora").</p>
<h2 id="syn">Syn<a class="headerlink" href="#syn" title="Permanent link">&para;</a></h2>
<h3 id="downloading-the-syn-jar-file">Downloading the Syn JAR File<a class="headerlink" href="#downloading-the-syn-jar-file" title="Permanent link">&para;</a></h3>
<p>A compiled JAR of Syn can be found on the <a href="https://github.com/Islandora/Syn/releases">Syn releases page</a>. We’re going to add this to the list libraries accessible to Tomcat.</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-9-1"><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a>sudo -u tomcat wget -P /opt/tomcat/lib SYN_JAR_URL
</span><span id="__span-9-2"><a id="__codelineno-9-2" name="__codelineno-9-2" href="#__codelineno-9-2"></a># Ensure the library has the correct permissions.
</span><span id="__span-9-3"><a id="__codelineno-9-3" name="__codelineno-9-3" href="#__codelineno-9-3"></a>sudo chmod -R 640 /opt/tomcat/lib
</span></code></pre></div>
<ul>
<li><code>SYN_JAR_URL</code>: The latest stable release of the Syn JAR from the <a href="https://github.com/Islandora/Syn/releases">releases page</a>. Specifically, the JAR compiled as <code>-all.jar</code> is required.</li>
</ul>
<h3 id="generating-an-ssl-key-for-syn">Generating an SSL Key for Syn<a class="headerlink" href="#generating-an-ssl-key-for-syn" title="Permanent link">&para;</a></h3>
<p>For Islandora and Fedora to talk to each other, an SSL key needs to be generated for use with Syn. We’re going to make a spot where such keys can live, and generate one.</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-10-1"><a id="__codelineno-10-1" name="__codelineno-10-1" href="#__codelineno-10-1"></a>sudo<span class="w"> </span>mkdir<span class="w"> </span>/opt/keys
</span><span id="__span-10-2"><a id="__codelineno-10-2" name="__codelineno-10-2" href="#__codelineno-10-2"></a>sudo<span class="w"> </span>openssl<span class="w"> </span>genrsa<span class="w"> </span>-out<span class="w"> </span><span class="s2">&quot;/opt/keys/syn_private.key&quot;</span><span class="w"> </span><span class="m">2048</span>
</span><span id="__span-10-3"><a id="__codelineno-10-3" name="__codelineno-10-3" href="#__codelineno-10-3"></a>sudo<span class="w"> </span>openssl<span class="w"> </span>rsa<span class="w"> </span>-pubout<span class="w"> </span>-in<span class="w"> </span><span class="s2">&quot;/opt/keys/syn_private.key&quot;</span><span class="w"> </span>-out<span class="w"> </span><span class="s2">&quot;/opt/keys/syn_public.key&quot;</span>
</span><span id="__span-10-4"><a id="__codelineno-10-4" name="__codelineno-10-4" href="#__codelineno-10-4"></a>sudo<span class="w"> </span>chown<span class="w"> </span>www-data:www-data<span class="w"> </span>/opt/keys/syn*
</span></code></pre></div>
<h3 id="placing-the-syn-settings">Placing the Syn Settings<a class="headerlink" href="#placing-the-syn-settings" title="Permanent link">&para;</a></h3>
<p>Syn sites and tokens belong in a settings file that we’re going to reference in Tomcat.</p>
<p><code>/opt/fcrepo/config/syn-settings.xml | tomcat:tomcat/600</code>
<div class="language-xml copy highlight"><pre><span></span><code><span id="__span-11-1"><a id="__codelineno-11-1" name="__codelineno-11-1" href="#__codelineno-11-1"></a><span class="nt">&lt;config</span><span class="w"> </span><span class="na">version=</span><span class="s">&#39;1&#39;</span><span class="w"> </span><span class="na">header=</span><span class="s">&#39;X-Islandora&#39;</span><span class="nt">&gt;</span>
</span><span id="__span-11-2"><a id="__codelineno-11-2" name="__codelineno-11-2" href="#__codelineno-11-2"></a><span class="w">  </span><span class="nt">&lt;site</span><span class="w"> </span><span class="na">algorithm=</span><span class="s">&#39;RS256&#39;</span><span class="w"> </span><span class="na">encoding=</span><span class="s">&#39;PEM&#39;</span><span class="w"> </span><span class="na">anonymous=</span><span class="s">&#39;true&#39;</span><span class="w"> </span><span class="na">default=</span><span class="s">&#39;true&#39;</span><span class="w"> </span><span class="na">path=</span><span class="s">&#39;/opt/keys/syn_public.key&#39;</span><span class="nt">/&gt;</span>
</span><span id="__span-11-3"><a id="__codelineno-11-3" name="__codelineno-11-3" href="#__codelineno-11-3"></a><span class="w">  </span><span class="nt">&lt;token</span><span class="w"> </span><span class="na">user=</span><span class="s">&#39;islandora&#39;</span><span class="w"> </span><span class="na">roles=</span><span class="s">&#39;fedoraAdmin&#39;</span><span class="nt">&gt;</span>ISLANDORA_SYN_TOKEN<span class="nt">&lt;/token&gt;</span>
</span><span id="__span-11-4"><a id="__codelineno-11-4" name="__codelineno-11-4" href="#__codelineno-11-4"></a><span class="nt">&lt;/config&gt;</span>
</span></code></pre></div></p>
<ul>
<li><code>ISLANDORA_SYN_TOKEN</code>: <code>islandora</code><ul>
<li>This should be a secure generated token rather than this default; it will be configured on the Drupal side later.</li>
</ul>
</li>
</ul>
<h3 id="adding-the-syn-valve-to-tomcat">Adding the Syn Valve to Tomcat<a class="headerlink" href="#adding-the-syn-valve-to-tomcat" title="Permanent link">&para;</a></h3>
<p>Referencing the valve we’ve created in our <code>syn-settings.xml</code> involves creating a <code>&lt;Valve&gt;</code> entry in Tomcat’s <code>context.xml</code>:</p>
<p>There are two options here: </p>
<h4 id="1-enable-the-syn-valve-for-all-of-tomcat">1. Enable the Syn Valve for all of Tomcat.<a class="headerlink" href="#1-enable-the-syn-valve-for-all-of-tomcat" title="Permanent link">&para;</a></h4>
<p><code>/opt/tomcat/conf/context.xml</code></p>
<p><strong>Before</strong>:</p>
<blockquote>
<p>30 |     <code>--&gt;</code></p>
<p>31 | <code>&lt;/Context&gt;</code></p>
</blockquote>
<p><strong>After</strong>:</p>
<blockquote>
<p>30 |    <code>--&gt;</code></p>
<p>31 |    <code>&lt;Valve className="ca.islandora.syn.valve.SynValve" pathname="/opt/fcrepo/config/syn-settings.xml"/&gt;</code></p>
<p>32 | <code>&lt;/Context&gt;</code></p>
</blockquote>
<h4 id="2-enable-the-syn-valve-for-only-fedora">2. Enable the Syn Valve for only Fedora.<a class="headerlink" href="#2-enable-the-syn-valve-for-only-fedora" title="Permanent link">&para;</a></h4>
<p>Create a new file at</p>
<p><code>/opt/tomcat/conf/Catalina/localhost/fcrepo.xml</code></p>
<div class="language-xml copy highlight"><pre><span></span><code><span id="__span-12-1"><a id="__codelineno-12-1" name="__codelineno-12-1" href="#__codelineno-12-1"></a><span class="nt">&lt;Context&gt;</span>
</span><span id="__span-12-2"><a id="__codelineno-12-2" name="__codelineno-12-2" href="#__codelineno-12-2"></a><span class="w">    </span><span class="nt">&lt;Valve</span><span class="w"> </span><span class="na">className=</span><span class="s">&quot;ca.islandora.syn.valve.SynValve&quot;</span><span class="w"> </span><span class="na">pathname=</span><span class="s">&quot;/opt/fcrepo/config/syn-settings.xml&quot;</span><span class="nt">/&gt;</span>
</span><span id="__span-12-3"><a id="__codelineno-12-3" name="__codelineno-12-3" href="#__codelineno-12-3"></a><span class="nt">&lt;/Context&gt;</span>
</span></code></pre></div>
<p>Your Fedora web application needs to be deployed in Tomcat with the name <code>fcrepo.war</code>. Otherwise, change the name of the above XML file to match the deployed web application's name.</p>
<h3 id="restarting-tomcat">Restarting Tomcat<a class="headerlink" href="#restarting-tomcat" title="Permanent link">&para;</a></h3>
<p>Finally, restart tomcat to apply the new configurations.</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-13-1"><a id="__codelineno-13-1" name="__codelineno-13-1" href="#__codelineno-13-1"></a>sudo<span class="w"> </span>systemctl<span class="w"> </span>restart<span class="w"> </span>tomcat
</span></code></pre></div>
<p><strong>Note:</strong> sometimes it takes a while for Fedora and Tomcat to start up, usually it shouldn't take longer than 5 minutes.</p>
<p><strong>Note:</strong> after installing the Syn valve, you'll no longer be able to manually create/edit or delete objects via Fedora Web UI. All communication with Fedora will now be handled from the Islandora module in Drupal.</p>
<h3 id="redhat-logging">Redhat logging<a class="headerlink" href="#redhat-logging" title="Permanent link">&para;</a></h3>
<p>Redhat systems have stopped generating an all inclusive <code>catalina.out</code>, the <code>catalina.&lt;date&gt;.log</code> does not include web application's log statements. To get Fedora log statements flowing, you can create your own <a href="https://logback.qos.ch/">LogBack</a> configuration file and point to it.</p>
<p><code>/opt/fcrepo/config/fcrepo-logback.xml | tomcat:tomcat/644</code>
<div class="language-xml copy highlight"><pre><span></span><code><span id="__span-14-1"><a id="__codelineno-14-1" name="__codelineno-14-1" href="#__codelineno-14-1"></a><span class="cp">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>
</span><span id="__span-14-2"><a id="__codelineno-14-2" name="__codelineno-14-2" href="#__codelineno-14-2"></a><span class="cp">&lt;!DOCTYPE configuration&gt;</span>
</span><span id="__span-14-3"><a id="__codelineno-14-3" name="__codelineno-14-3" href="#__codelineno-14-3"></a><span class="nt">&lt;configuration&gt;</span>
</span><span id="__span-14-4"><a id="__codelineno-14-4" name="__codelineno-14-4" href="#__codelineno-14-4"></a><span class="w">  </span><span class="nt">&lt;appender</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;STDOUT&quot;</span><span class="w"> </span><span class="na">class=</span><span class="s">&quot;ch.qos.logback.core.ConsoleAppender&quot;</span><span class="nt">&gt;</span>
</span><span id="__span-14-5"><a id="__codelineno-14-5" name="__codelineno-14-5" href="#__codelineno-14-5"></a><span class="w">    </span><span class="nt">&lt;encoder&gt;</span>
</span><span id="__span-14-6"><a id="__codelineno-14-6" name="__codelineno-14-6" href="#__codelineno-14-6"></a><span class="w">      </span><span class="nt">&lt;pattern&gt;</span>%p<span class="w"> </span>%d{HH:mm:ss.SSS}<span class="w"> </span>[%thread]<span class="w"> </span>\(%c{0}\)<span class="w"> </span>%m%n<span class="nt">&lt;/pattern&gt;</span>
</span><span id="__span-14-7"><a id="__codelineno-14-7" name="__codelineno-14-7" href="#__codelineno-14-7"></a><span class="w">    </span><span class="nt">&lt;/encoder&gt;</span>
</span><span id="__span-14-8"><a id="__codelineno-14-8" name="__codelineno-14-8" href="#__codelineno-14-8"></a><span class="w">  </span><span class="nt">&lt;/appender&gt;</span>
</span><span id="__span-14-9"><a id="__codelineno-14-9" name="__codelineno-14-9" href="#__codelineno-14-9"></a>
</span><span id="__span-14-10"><a id="__codelineno-14-10" name="__codelineno-14-10" href="#__codelineno-14-10"></a><span class="w">  </span><span class="nt">&lt;appender</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;FILE&quot;</span><span class="w"> </span><span class="na">class=</span><span class="s">&quot;ch.qos.logback.core.rolling.RollingFileAppender&quot;</span><span class="nt">&gt;</span>
</span><span id="__span-14-11"><a id="__codelineno-14-11" name="__codelineno-14-11" href="#__codelineno-14-11"></a><span class="w">    </span><span class="nt">&lt;file&gt;</span>${catalina.base}/logs/fcrepo.log<span class="nt">&lt;/file&gt;</span>
</span><span id="__span-14-12"><a id="__codelineno-14-12" name="__codelineno-14-12" href="#__codelineno-14-12"></a><span class="w">    </span><span class="nt">&lt;append&gt;</span>true<span class="nt">&lt;/append&gt;</span>
</span><span id="__span-14-13"><a id="__codelineno-14-13" name="__codelineno-14-13" href="#__codelineno-14-13"></a><span class="w">    </span><span class="nt">&lt;rollingPolicy</span><span class="w"> </span><span class="na">class=</span><span class="s">&quot;ch.qos.logback.core.rolling.SizeAndTimeBasedRollingPolicy&quot;</span><span class="nt">&gt;</span>
</span><span id="__span-14-14"><a id="__codelineno-14-14" name="__codelineno-14-14" href="#__codelineno-14-14"></a><span class="w">      </span><span class="nt">&lt;fileNamePattern&gt;</span>${catalina.base}/logs/fcrepo.%d{yyyy-MM-dd}.log.%i<span class="nt">&lt;/fileNamePattern&gt;</span>
</span><span id="__span-14-15"><a id="__codelineno-14-15" name="__codelineno-14-15" href="#__codelineno-14-15"></a><span class="w">      </span><span class="nt">&lt;maxFileSize&gt;</span>10MB<span class="nt">&lt;/maxFileSize&gt;</span>
</span><span id="__span-14-16"><a id="__codelineno-14-16" name="__codelineno-14-16" href="#__codelineno-14-16"></a><span class="w">      </span><span class="nt">&lt;maxHistory&gt;</span>30<span class="nt">&lt;/maxHistory&gt;</span>
</span><span id="__span-14-17"><a id="__codelineno-14-17" name="__codelineno-14-17" href="#__codelineno-14-17"></a><span class="w">      </span><span class="nt">&lt;totalSizeCap&gt;</span>2GB<span class="nt">&lt;/totalSizeCap&gt;</span>
</span><span id="__span-14-18"><a id="__codelineno-14-18" name="__codelineno-14-18" href="#__codelineno-14-18"></a><span class="w">    </span><span class="nt">&lt;/rollingPolicy&gt;</span>
</span><span id="__span-14-19"><a id="__codelineno-14-19" name="__codelineno-14-19" href="#__codelineno-14-19"></a><span class="w">    </span><span class="nt">&lt;encoder&gt;</span>
</span><span id="__span-14-20"><a id="__codelineno-14-20" name="__codelineno-14-20" href="#__codelineno-14-20"></a><span class="w">      </span><span class="nt">&lt;pattern&gt;</span>%p<span class="w"> </span>%d{HH:mm:ss.SSS}<span class="w"> </span>[%thread]<span class="w"> </span>\(%c{0}\)<span class="w"> </span>%m%n<span class="nt">&lt;/pattern&gt;</span>
</span><span id="__span-14-21"><a id="__codelineno-14-21" name="__codelineno-14-21" href="#__codelineno-14-21"></a><span class="w">    </span><span class="nt">&lt;/encoder&gt;</span>
</span><span id="__span-14-22"><a id="__codelineno-14-22" name="__codelineno-14-22" href="#__codelineno-14-22"></a><span class="w">  </span><span class="nt">&lt;/appender&gt;</span>
</span><span id="__span-14-23"><a id="__codelineno-14-23" name="__codelineno-14-23" href="#__codelineno-14-23"></a>
</span><span id="__span-14-24"><a id="__codelineno-14-24" name="__codelineno-14-24" href="#__codelineno-14-24"></a><span class="w">  </span><span class="nt">&lt;logger</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;org.fcrepo.auth&quot;</span><span class="w"> </span><span class="na">additivity=</span><span class="s">&quot;false&quot;</span><span class="w"> </span><span class="na">level=</span><span class="s">&quot;${fcrepo.log.auth:-null}&quot;</span><span class="nt">&gt;</span>
</span><span id="__span-14-25"><a id="__codelineno-14-25" name="__codelineno-14-25" href="#__codelineno-14-25"></a><span class="w">    </span><span class="nt">&lt;appender-ref</span><span class="w"> </span><span class="na">ref=</span><span class="s">&quot;STDOUT&quot;</span><span class="nt">/&gt;</span>
</span><span id="__span-14-26"><a id="__codelineno-14-26" name="__codelineno-14-26" href="#__codelineno-14-26"></a><span class="w">    </span><span class="nt">&lt;appender-ref</span><span class="w"> </span><span class="na">ref=</span><span class="s">&quot;FILE&quot;</span><span class="nt">/&gt;</span>
</span><span id="__span-14-27"><a id="__codelineno-14-27" name="__codelineno-14-27" href="#__codelineno-14-27"></a><span class="w">  </span><span class="nt">&lt;/logger&gt;</span>
</span><span id="__span-14-28"><a id="__codelineno-14-28" name="__codelineno-14-28" href="#__codelineno-14-28"></a><span class="w">  </span><span class="nt">&lt;logger</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;org.fcrepo.config&quot;</span><span class="w"> </span><span class="na">additivity=</span><span class="s">&quot;false&quot;</span><span class="w"> </span><span class="na">level=</span><span class="s">&quot;${fcrepo.log.config:-null}&quot;</span><span class="nt">&gt;</span>
</span><span id="__span-14-29"><a id="__codelineno-14-29" name="__codelineno-14-29" href="#__codelineno-14-29"></a><span class="w">    </span><span class="nt">&lt;appender-ref</span><span class="w"> </span><span class="na">ref=</span><span class="s">&quot;STDOUT&quot;</span><span class="nt">/&gt;</span>
</span><span id="__span-14-30"><a id="__codelineno-14-30" name="__codelineno-14-30" href="#__codelineno-14-30"></a><span class="w">    </span><span class="nt">&lt;appender-ref</span><span class="w"> </span><span class="na">ref=</span><span class="s">&quot;FILE&quot;</span><span class="nt">/&gt;</span>
</span><span id="__span-14-31"><a id="__codelineno-14-31" name="__codelineno-14-31" href="#__codelineno-14-31"></a><span class="w">  </span><span class="nt">&lt;/logger&gt;</span>
</span><span id="__span-14-32"><a id="__codelineno-14-32" name="__codelineno-14-32" href="#__codelineno-14-32"></a><span class="w">  </span><span class="nt">&lt;logger</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;org.fcrepo.event&quot;</span><span class="w"> </span><span class="na">additivity=</span><span class="s">&quot;false&quot;</span><span class="w"> </span><span class="na">level=</span><span class="s">&quot;${fcrepo.log.event:-null}&quot;</span><span class="nt">&gt;</span>
</span><span id="__span-14-33"><a id="__codelineno-14-33" name="__codelineno-14-33" href="#__codelineno-14-33"></a><span class="w">    </span><span class="nt">&lt;appender-ref</span><span class="w"> </span><span class="na">ref=</span><span class="s">&quot;STDOUT&quot;</span><span class="nt">/&gt;</span>
</span><span id="__span-14-34"><a id="__codelineno-14-34" name="__codelineno-14-34" href="#__codelineno-14-34"></a><span class="w">    </span><span class="nt">&lt;appender-ref</span><span class="w"> </span><span class="na">ref=</span><span class="s">&quot;FILE&quot;</span><span class="nt">/&gt;</span>
</span><span id="__span-14-35"><a id="__codelineno-14-35" name="__codelineno-14-35" href="#__codelineno-14-35"></a><span class="w">  </span><span class="nt">&lt;/logger&gt;</span>
</span><span id="__span-14-36"><a id="__codelineno-14-36" name="__codelineno-14-36" href="#__codelineno-14-36"></a><span class="w">  </span><span class="nt">&lt;logger</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;org.fcrepo.http.api&quot;</span><span class="w"> </span><span class="na">additivity=</span><span class="s">&quot;false&quot;</span><span class="w"> </span><span class="na">level=</span><span class="s">&quot;${fcrepo.log.http.api:-null}&quot;</span><span class="nt">&gt;</span>
</span><span id="__span-14-37"><a id="__codelineno-14-37" name="__codelineno-14-37" href="#__codelineno-14-37"></a><span class="w">    </span><span class="nt">&lt;appender-ref</span><span class="w"> </span><span class="na">ref=</span><span class="s">&quot;STDOUT&quot;</span><span class="nt">/&gt;</span>
</span><span id="__span-14-38"><a id="__codelineno-14-38" name="__codelineno-14-38" href="#__codelineno-14-38"></a><span class="w">    </span><span class="nt">&lt;appender-ref</span><span class="w"> </span><span class="na">ref=</span><span class="s">&quot;FILE&quot;</span><span class="nt">/&gt;</span>
</span><span id="__span-14-39"><a id="__codelineno-14-39" name="__codelineno-14-39" href="#__codelineno-14-39"></a><span class="w">  </span><span class="nt">&lt;/logger&gt;</span>
</span><span id="__span-14-40"><a id="__codelineno-14-40" name="__codelineno-14-40" href="#__codelineno-14-40"></a><span class="w">  </span><span class="nt">&lt;logger</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;org.fcrepo.http.commons&quot;</span><span class="w"> </span><span class="na">additivity=</span><span class="s">&quot;false&quot;</span><span class="w"> </span><span class="na">level=</span><span class="s">&quot;${fcrepo.log.http.commons:-null}&quot;</span><span class="nt">&gt;</span>
</span><span id="__span-14-41"><a id="__codelineno-14-41" name="__codelineno-14-41" href="#__codelineno-14-41"></a><span class="w">    </span><span class="nt">&lt;appender-ref</span><span class="w"> </span><span class="na">ref=</span><span class="s">&quot;STDOUT&quot;</span><span class="nt">/&gt;</span>
</span><span id="__span-14-42"><a id="__codelineno-14-42" name="__codelineno-14-42" href="#__codelineno-14-42"></a><span class="w">    </span><span class="nt">&lt;appender-ref</span><span class="w"> </span><span class="na">ref=</span><span class="s">&quot;FILE&quot;</span><span class="nt">/&gt;</span>
</span><span id="__span-14-43"><a id="__codelineno-14-43" name="__codelineno-14-43" href="#__codelineno-14-43"></a><span class="w">  </span><span class="nt">&lt;/logger&gt;</span>
</span><span id="__span-14-44"><a id="__codelineno-14-44" name="__codelineno-14-44" href="#__codelineno-14-44"></a><span class="w">  </span><span class="nt">&lt;logger</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;org.fcrepo.jms&quot;</span><span class="w"> </span><span class="na">additivity=</span><span class="s">&quot;false&quot;</span><span class="w"> </span><span class="na">level=</span><span class="s">&quot;${fcrepo.log.jms:-null}&quot;</span><span class="nt">&gt;</span>
</span><span id="__span-14-45"><a id="__codelineno-14-45" name="__codelineno-14-45" href="#__codelineno-14-45"></a><span class="w">    </span><span class="nt">&lt;appender-ref</span><span class="w"> </span><span class="na">ref=</span><span class="s">&quot;STDOUT&quot;</span><span class="nt">/&gt;</span>
</span><span id="__span-14-46"><a id="__codelineno-14-46" name="__codelineno-14-46" href="#__codelineno-14-46"></a><span class="w">    </span><span class="nt">&lt;appender-ref</span><span class="w"> </span><span class="na">ref=</span><span class="s">&quot;FILE&quot;</span><span class="nt">/&gt;</span>
</span><span id="__span-14-47"><a id="__codelineno-14-47" name="__codelineno-14-47" href="#__codelineno-14-47"></a><span class="w">  </span><span class="nt">&lt;/logger&gt;</span>
</span><span id="__span-14-48"><a id="__codelineno-14-48" name="__codelineno-14-48" href="#__codelineno-14-48"></a><span class="w">  </span><span class="nt">&lt;logger</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;org.fcrepo.kernel&quot;</span><span class="w"> </span><span class="na">additivity=</span><span class="s">&quot;false&quot;</span><span class="w"> </span><span class="na">level=</span><span class="s">&quot;${fcrepo.log.kernel:-null}&quot;</span><span class="nt">&gt;</span>
</span><span id="__span-14-49"><a id="__codelineno-14-49" name="__codelineno-14-49" href="#__codelineno-14-49"></a><span class="w">    </span><span class="nt">&lt;appender-ref</span><span class="w"> </span><span class="na">ref=</span><span class="s">&quot;STDOUT&quot;</span><span class="nt">/&gt;</span>
</span><span id="__span-14-50"><a id="__codelineno-14-50" name="__codelineno-14-50" href="#__codelineno-14-50"></a><span class="w">    </span><span class="nt">&lt;appender-ref</span><span class="w"> </span><span class="na">ref=</span><span class="s">&quot;FILE&quot;</span><span class="nt">/&gt;</span>
</span><span id="__span-14-51"><a id="__codelineno-14-51" name="__codelineno-14-51" href="#__codelineno-14-51"></a><span class="w">  </span><span class="nt">&lt;/logger&gt;</span>
</span><span id="__span-14-52"><a id="__codelineno-14-52" name="__codelineno-14-52" href="#__codelineno-14-52"></a><span class="w">  </span><span class="nt">&lt;logger</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;org.fcrepo.persistence&quot;</span><span class="w"> </span><span class="na">additivity=</span><span class="s">&quot;false&quot;</span><span class="w"> </span><span class="na">level=</span><span class="s">&quot;${fcrepo.log.persistence:-null}&quot;</span><span class="nt">&gt;</span>
</span><span id="__span-14-53"><a id="__codelineno-14-53" name="__codelineno-14-53" href="#__codelineno-14-53"></a><span class="w">    </span><span class="nt">&lt;appender-ref</span><span class="w"> </span><span class="na">ref=</span><span class="s">&quot;STDOUT&quot;</span><span class="nt">/&gt;</span>
</span><span id="__span-14-54"><a id="__codelineno-14-54" name="__codelineno-14-54" href="#__codelineno-14-54"></a><span class="w">    </span><span class="nt">&lt;appender-ref</span><span class="w"> </span><span class="na">ref=</span><span class="s">&quot;FILE&quot;</span><span class="nt">/&gt;</span>
</span><span id="__span-14-55"><a id="__codelineno-14-55" name="__codelineno-14-55" href="#__codelineno-14-55"></a><span class="w">  </span><span class="nt">&lt;/logger&gt;</span>
</span><span id="__span-14-56"><a id="__codelineno-14-56" name="__codelineno-14-56" href="#__codelineno-14-56"></a><span class="w">  </span><span class="nt">&lt;logger</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;org.fcrepo.search&quot;</span><span class="w"> </span><span class="na">additivity=</span><span class="s">&quot;false&quot;</span><span class="w"> </span><span class="na">level=</span><span class="s">&quot;${fcrepo.log.search:-null}&quot;</span><span class="nt">&gt;</span>
</span><span id="__span-14-57"><a id="__codelineno-14-57" name="__codelineno-14-57" href="#__codelineno-14-57"></a><span class="w">    </span><span class="nt">&lt;appender-ref</span><span class="w"> </span><span class="na">ref=</span><span class="s">&quot;STDOUT&quot;</span><span class="nt">/&gt;</span>
</span><span id="__span-14-58"><a id="__codelineno-14-58" name="__codelineno-14-58" href="#__codelineno-14-58"></a><span class="w">    </span><span class="nt">&lt;appender-ref</span><span class="w"> </span><span class="na">ref=</span><span class="s">&quot;FILE&quot;</span><span class="nt">/&gt;</span>
</span><span id="__span-14-59"><a id="__codelineno-14-59" name="__codelineno-14-59" href="#__codelineno-14-59"></a><span class="w">  </span><span class="nt">&lt;/logger&gt;</span>
</span><span id="__span-14-60"><a id="__codelineno-14-60" name="__codelineno-14-60" href="#__codelineno-14-60"></a><span class="w">  </span><span class="nt">&lt;logger</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;org.fcrepo.storage&quot;</span><span class="w"> </span><span class="na">additivity=</span><span class="s">&quot;false&quot;</span><span class="w"> </span><span class="na">level=</span><span class="s">&quot;${fcrepo.log.storage:-null}&quot;</span><span class="nt">&gt;</span>
</span><span id="__span-14-61"><a id="__codelineno-14-61" name="__codelineno-14-61" href="#__codelineno-14-61"></a><span class="w">    </span><span class="nt">&lt;appender-ref</span><span class="w"> </span><span class="na">ref=</span><span class="s">&quot;STDOUT&quot;</span><span class="nt">/&gt;</span>
</span><span id="__span-14-62"><a id="__codelineno-14-62" name="__codelineno-14-62" href="#__codelineno-14-62"></a><span class="w">    </span><span class="nt">&lt;appender-ref</span><span class="w"> </span><span class="na">ref=</span><span class="s">&quot;FILE&quot;</span><span class="nt">/&gt;</span>
</span><span id="__span-14-63"><a id="__codelineno-14-63" name="__codelineno-14-63" href="#__codelineno-14-63"></a><span class="w">  </span><span class="nt">&lt;/logger&gt;</span>
</span><span id="__span-14-64"><a id="__codelineno-14-64" name="__codelineno-14-64" href="#__codelineno-14-64"></a><span class="w">  </span><span class="nt">&lt;logger</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;org.fcrepo&quot;</span><span class="w"> </span><span class="na">additivity=</span><span class="s">&quot;false&quot;</span><span class="w"> </span><span class="na">level=</span><span class="s">&quot;${fcrepo.log:-INFO}&quot;</span><span class="nt">&gt;</span>
</span><span id="__span-14-65"><a id="__codelineno-14-65" name="__codelineno-14-65" href="#__codelineno-14-65"></a><span class="w">    </span><span class="nt">&lt;appender-ref</span><span class="w"> </span><span class="na">ref=</span><span class="s">&quot;STDOUT&quot;</span><span class="nt">/&gt;</span>
</span><span id="__span-14-66"><a id="__codelineno-14-66" name="__codelineno-14-66" href="#__codelineno-14-66"></a><span class="w">    </span><span class="nt">&lt;appender-ref</span><span class="w"> </span><span class="na">ref=</span><span class="s">&quot;FILE&quot;</span><span class="nt">/&gt;</span>
</span><span id="__span-14-67"><a id="__codelineno-14-67" name="__codelineno-14-67" href="#__codelineno-14-67"></a><span class="w">  </span><span class="nt">&lt;/logger&gt;</span>
</span><span id="__span-14-68"><a id="__codelineno-14-68" name="__codelineno-14-68" href="#__codelineno-14-68"></a>
</span><span id="__span-14-69"><a id="__codelineno-14-69" name="__codelineno-14-69" href="#__codelineno-14-69"></a><span class="w">  </span><span class="nt">&lt;root</span><span class="w"> </span><span class="na">level=</span><span class="s">&quot;${fcrepo.log.root:-WARN}&quot;</span><span class="nt">&gt;</span>
</span><span id="__span-14-70"><a id="__codelineno-14-70" name="__codelineno-14-70" href="#__codelineno-14-70"></a><span class="w">    </span><span class="nt">&lt;appender-ref</span><span class="w"> </span><span class="na">ref=</span><span class="s">&quot;STDOUT&quot;</span><span class="nt">/&gt;</span>
</span><span id="__span-14-71"><a id="__codelineno-14-71" name="__codelineno-14-71" href="#__codelineno-14-71"></a><span class="w">    </span><span class="nt">&lt;appender-ref</span><span class="w"> </span><span class="na">ref=</span><span class="s">&quot;FILE&quot;</span><span class="nt">/&gt;</span>
</span><span id="__span-14-72"><a id="__codelineno-14-72" name="__codelineno-14-72" href="#__codelineno-14-72"></a><span class="w">  </span><span class="nt">&lt;/root&gt;</span>
</span><span id="__span-14-73"><a id="__codelineno-14-73" name="__codelineno-14-73" href="#__codelineno-14-73"></a><span class="nt">&lt;/configuration&gt;</span>
</span></code></pre></div></p>
<p>Then alter your <code>$JAVA_OPTS</code> like <a href="#adding-the-fedora-variables-to-java_opts">above</a> to include 
<div class="language-text highlight"><pre><span></span><code><span id="__span-15-1"><a id="__codelineno-15-1" name="__codelineno-15-1" href="#__codelineno-15-1"></a>-Dlogback.configurationFile=/opt/fcrepo/config/fcrepo-logback.xml
</span></code></pre></div></p>
<p>This will generate a log file at <code>${catalina.base}/logs/fcrepo.log</code> and will rotate each day or if the logs reaches 10MB. It will maintain 30 days of old logs, or 2GB whichever comes first.</p>
<h2 id="blazegraph-2">Blazegraph 2<a class="headerlink" href="#blazegraph-2" title="Permanent link">&para;</a></h2>
<h3 id="creating-a-working-space-for-blazegraph">Creating a Working Space for Blazegraph<a class="headerlink" href="#creating-a-working-space-for-blazegraph" title="Permanent link">&para;</a></h3>
<p>Blazegraph needs a space for configurations and data; we’re going to create this space in <code>/opt</code>.</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-16-1"><a id="__codelineno-16-1" name="__codelineno-16-1" href="#__codelineno-16-1"></a>sudo<span class="w"> </span>mkdir<span class="w"> </span>-p<span class="w"> </span>/opt/blazegraph/data
</span><span id="__span-16-2"><a id="__codelineno-16-2" name="__codelineno-16-2" href="#__codelineno-16-2"></a>sudo<span class="w"> </span>mkdir<span class="w"> </span>/opt/blazegraph/conf
</span><span id="__span-16-3"><a id="__codelineno-16-3" name="__codelineno-16-3" href="#__codelineno-16-3"></a>sudo<span class="w"> </span>chown<span class="w"> </span>-R<span class="w"> </span>tomcat:tomcat<span class="w"> </span>/opt/blazegraph
</span></code></pre></div>
<h3 id="downloading-and-placing-the-blazegraph-war">Downloading and Placing the Blazegraph WAR<a class="headerlink" href="#downloading-and-placing-the-blazegraph-war" title="Permanent link">&para;</a></h3>
<p>The Blazegraph <code>.war</code> file can be found in a few different places, but to ensure we’re able to easily <code>wget</code> it, we’re going to use the <a href="https://search.maven.org/">maven.org</a> repository link to grab it.</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-17-1"><a id="__codelineno-17-1" name="__codelineno-17-1" href="#__codelineno-17-1"></a><span class="nb">cd</span><span class="w"> </span>/opt
</span><span id="__span-17-2"><a id="__codelineno-17-2" name="__codelineno-17-2" href="#__codelineno-17-2"></a>sudo<span class="w"> </span>wget<span class="w"> </span>-O<span class="w"> </span>blazegraph.war<span class="w"> </span>BLAZEGRAPH_WARFILE_LINK
</span><span id="__span-17-3"><a id="__codelineno-17-3" name="__codelineno-17-3" href="#__codelineno-17-3"></a>sudo<span class="w"> </span>mv<span class="w"> </span>blazegraph.war<span class="w"> </span>/opt/tomcat/webapps
</span><span id="__span-17-4"><a id="__codelineno-17-4" name="__codelineno-17-4" href="#__codelineno-17-4"></a>sudo<span class="w"> </span>chown<span class="w"> </span>tomcat:tomcat<span class="w"> </span>/opt/tomcat/webapps/blazegraph.war
</span></code></pre></div>
<ul>
<li>BLAZEGRAPH_WAR_URL: You can find a link to this at the <a href="https://repo1.maven.org/maven2/com/blazegraph/bigdata-war/">Maven repository for Blazegraph</a>; you’ll want to click the link for the latest version of Blazegraph 2.1.x, then get the link to the <code>.war</code> file within that version folder.</li>
</ul>
<p>Once this is downloaded, give it a moment to expand before moving on to the next step.</p>
<h3 id="configuring-logging">Configuring Logging<a class="headerlink" href="#configuring-logging" title="Permanent link">&para;</a></h3>
<p>We would like to have an appropriate logging configuration for Blazegraph, which can be useful for looking at incoming traffic and determining if anything has gone wrong with Blazegraph. Our logger isn’t going to be much different than the default logger; it can be made more or less verbose by changing the default <code>WARN</code> levels. There are several other loggers that can be enabled, like a SPARQL query trace or summary query evaluation log; if these are desired they should be added in. Consult the Blazegraph documentation for more details.</p>
<p><code>/opt/blazegraph/conf/log4j.properties | tomcat:tomcat/644</code>
<div class="language-text copy highlight"><pre><span></span><code><span id="__span-18-1"><a id="__codelineno-18-1" name="__codelineno-18-1" href="#__codelineno-18-1"></a>log4j.rootCategory=WARN, dest1
</span><span id="__span-18-2"><a id="__codelineno-18-2" name="__codelineno-18-2" href="#__codelineno-18-2"></a>
</span><span id="__span-18-3"><a id="__codelineno-18-3" name="__codelineno-18-3" href="#__codelineno-18-3"></a># Loggers.
</span><span id="__span-18-4"><a id="__codelineno-18-4" name="__codelineno-18-4" href="#__codelineno-18-4"></a>log4j.logger.com.bigdata=WARN
</span><span id="__span-18-5"><a id="__codelineno-18-5" name="__codelineno-18-5" href="#__codelineno-18-5"></a>log4j.logger.com.bigdata.btree=WARN
</span><span id="__span-18-6"><a id="__codelineno-18-6" name="__codelineno-18-6" href="#__codelineno-18-6"></a>
</span><span id="__span-18-7"><a id="__codelineno-18-7" name="__codelineno-18-7" href="#__codelineno-18-7"></a># Normal data loader (single threaded).
</span><span id="__span-18-8"><a id="__codelineno-18-8" name="__codelineno-18-8" href="#__codelineno-18-8"></a>#log4j.logger.com.bigdata.rdf.store.DataLoader=INFO
</span><span id="__span-18-9"><a id="__codelineno-18-9" name="__codelineno-18-9" href="#__codelineno-18-9"></a>
</span><span id="__span-18-10"><a id="__codelineno-18-10" name="__codelineno-18-10" href="#__codelineno-18-10"></a># dest1
</span><span id="__span-18-11"><a id="__codelineno-18-11" name="__codelineno-18-11" href="#__codelineno-18-11"></a>log4j.appender.dest1=org.apache.log4j.ConsoleAppender
</span><span id="__span-18-12"><a id="__codelineno-18-12" name="__codelineno-18-12" href="#__codelineno-18-12"></a>log4j.appender.dest1.layout=org.apache.log4j.PatternLayout
</span><span id="__span-18-13"><a id="__codelineno-18-13" name="__codelineno-18-13" href="#__codelineno-18-13"></a>log4j.appender.dest1.layout.ConversionPattern=%-5p: %F:%L: %m%n
</span><span id="__span-18-14"><a id="__codelineno-18-14" name="__codelineno-18-14" href="#__codelineno-18-14"></a>#log4j.appender.dest1.layout.ConversionPattern=%-5p: %r %l: %m%n
</span><span id="__span-18-15"><a id="__codelineno-18-15" name="__codelineno-18-15" href="#__codelineno-18-15"></a>#log4j.appender.dest1.layout.ConversionPattern=%-5p: %m%n
</span><span id="__span-18-16"><a id="__codelineno-18-16" name="__codelineno-18-16" href="#__codelineno-18-16"></a>#log4j.appender.dest1.layout.ConversionPattern=%-4r [%t] %-5p %c %x - %m%n
</span><span id="__span-18-17"><a id="__codelineno-18-17" name="__codelineno-18-17" href="#__codelineno-18-17"></a>#log4j.appender.dest1.layout.ConversionPattern=%-4r(%d) [%t] %-5p %c(%l:%M) %x - %m%n
</span><span id="__span-18-18"><a id="__codelineno-18-18" name="__codelineno-18-18" href="#__codelineno-18-18"></a>
</span><span id="__span-18-19"><a id="__codelineno-18-19" name="__codelineno-18-19" href="#__codelineno-18-19"></a># Rule execution log. This is a formatted log file (comma delimited).
</span><span id="__span-18-20"><a id="__codelineno-18-20" name="__codelineno-18-20" href="#__codelineno-18-20"></a>log4j.logger.com.bigdata.relation.rule.eval.RuleLog=INFO,ruleLog
</span><span id="__span-18-21"><a id="__codelineno-18-21" name="__codelineno-18-21" href="#__codelineno-18-21"></a>log4j.additivity.com.bigdata.relation.rule.eval.RuleLog=false
</span><span id="__span-18-22"><a id="__codelineno-18-22" name="__codelineno-18-22" href="#__codelineno-18-22"></a>log4j.appender.ruleLog=org.apache.log4j.FileAppender
</span><span id="__span-18-23"><a id="__codelineno-18-23" name="__codelineno-18-23" href="#__codelineno-18-23"></a>log4j.appender.ruleLog.Threshold=ALL
</span><span id="__span-18-24"><a id="__codelineno-18-24" name="__codelineno-18-24" href="#__codelineno-18-24"></a>log4j.appender.ruleLog.File=/var/log/blazegraph/rules.log
</span><span id="__span-18-25"><a id="__codelineno-18-25" name="__codelineno-18-25" href="#__codelineno-18-25"></a>log4j.appender.ruleLog.Append=true
</span><span id="__span-18-26"><a id="__codelineno-18-26" name="__codelineno-18-26" href="#__codelineno-18-26"></a>log4j.appender.ruleLog.BufferedIO=false
</span><span id="__span-18-27"><a id="__codelineno-18-27" name="__codelineno-18-27" href="#__codelineno-18-27"></a>log4j.appender.ruleLog.layout=org.apache.log4j.PatternLayout
</span><span id="__span-18-28"><a id="__codelineno-18-28" name="__codelineno-18-28" href="#__codelineno-18-28"></a>log4j.appender.ruleLog.layout.ConversionPattern=%m
</span></code></pre></div></p>
<h3 id="adding-a-blazegraph-configuration">Adding a Blazegraph Configuration<a class="headerlink" href="#adding-a-blazegraph-configuration" title="Permanent link">&para;</a></h3>
<p>Our configuration will be built from a few different files that we will eventually reference in <code>JAVA_OPTS</code> and directly apply to Blazegraph; these include most of the functional pieces Blazegraph requires, as well as a generalized configuration for the <code>islandora</code> namespace it will use. As with most large configurations like this, these should likely be tuned to your preferences, and the following files only represent sensible defaults.</p>
<p><code>/opt/blazegraph/conf/RWStore.properties | tomcat:tomcat/644</code>
<div class="language-text copy highlight"><pre><span></span><code><span id="__span-19-1"><a id="__codelineno-19-1" name="__codelineno-19-1" href="#__codelineno-19-1"></a>com.bigdata.journal.AbstractJournal.file=/opt/blazegraph/data/blazegraph.jnl
</span><span id="__span-19-2"><a id="__codelineno-19-2" name="__codelineno-19-2" href="#__codelineno-19-2"></a>com.bigdata.journal.AbstractJournal.bufferMode=DiskRW
</span><span id="__span-19-3"><a id="__codelineno-19-3" name="__codelineno-19-3" href="#__codelineno-19-3"></a>com.bigdata.service.AbstractTransactionService.minReleaseAge=1
</span><span id="__span-19-4"><a id="__codelineno-19-4" name="__codelineno-19-4" href="#__codelineno-19-4"></a>com.bigdata.journal.Journal.groupCommit=false
</span><span id="__span-19-5"><a id="__codelineno-19-5" name="__codelineno-19-5" href="#__codelineno-19-5"></a>com.bigdata.btree.writeRetentionQueue.capacity=4000
</span><span id="__span-19-6"><a id="__codelineno-19-6" name="__codelineno-19-6" href="#__codelineno-19-6"></a>com.bigdata.btree.BTree.branchingFactor=128
</span><span id="__span-19-7"><a id="__codelineno-19-7" name="__codelineno-19-7" href="#__codelineno-19-7"></a>com.bigdata.journal.AbstractJournal.initialExtent=209715200
</span><span id="__span-19-8"><a id="__codelineno-19-8" name="__codelineno-19-8" href="#__codelineno-19-8"></a>com.bigdata.journal.AbstractJournal.maximumExtent=209715200
</span><span id="__span-19-9"><a id="__codelineno-19-9" name="__codelineno-19-9" href="#__codelineno-19-9"></a>com.bigdata.rdf.sail.truthMaintenance=false
</span><span id="__span-19-10"><a id="__codelineno-19-10" name="__codelineno-19-10" href="#__codelineno-19-10"></a>com.bigdata.rdf.store.AbstractTripleStore.quads=true
</span><span id="__span-19-11"><a id="__codelineno-19-11" name="__codelineno-19-11" href="#__codelineno-19-11"></a>com.bigdata.rdf.store.AbstractTripleStore.statementIdentifiers=false
</span><span id="__span-19-12"><a id="__codelineno-19-12" name="__codelineno-19-12" href="#__codelineno-19-12"></a>com.bigdata.rdf.store.AbstractTripleStore.textIndex=false
</span><span id="__span-19-13"><a id="__codelineno-19-13" name="__codelineno-19-13" href="#__codelineno-19-13"></a>com.bigdata.rdf.store.AbstractTripleStore.axiomsClass=com.bigdata.rdf.axioms.NoAxioms
</span><span id="__span-19-14"><a id="__codelineno-19-14" name="__codelineno-19-14" href="#__codelineno-19-14"></a>com.bigdata.namespace.kb.lex.com.bigdata.btree.BTree.branchingFactor=400
</span><span id="__span-19-15"><a id="__codelineno-19-15" name="__codelineno-19-15" href="#__codelineno-19-15"></a>com.bigdata.namespace.kb.spo.com.bigdata.btree.BTree.branchingFactor=1024
</span><span id="__span-19-16"><a id="__codelineno-19-16" name="__codelineno-19-16" href="#__codelineno-19-16"></a>com.bigdata.journal.Journal.collectPlatformStatistics=false
</span></code></pre></div></p>
<p><code>/opt/blazegraph/conf/blazegraph.properties | tomcat:tomcat/644</code>
<div class="language-text copy highlight"><pre><span></span><code><span id="__span-20-1"><a id="__codelineno-20-1" name="__codelineno-20-1" href="#__codelineno-20-1"></a>com.bigdata.rdf.store.AbstractTripleStore.textIndex=false
</span><span id="__span-20-2"><a id="__codelineno-20-2" name="__codelineno-20-2" href="#__codelineno-20-2"></a>com.bigdata.rdf.store.AbstractTripleStore.axiomsClass=com.bigdata.rdf.axioms.OwlAxioms
</span><span id="__span-20-3"><a id="__codelineno-20-3" name="__codelineno-20-3" href="#__codelineno-20-3"></a>com.bigdata.rdf.sail.isolatableIndices=false
</span><span id="__span-20-4"><a id="__codelineno-20-4" name="__codelineno-20-4" href="#__codelineno-20-4"></a>com.bigdata.rdf.store.AbstractTripleStore.justify=true
</span><span id="__span-20-5"><a id="__codelineno-20-5" name="__codelineno-20-5" href="#__codelineno-20-5"></a>com.bigdata.rdf.sail.truthMaintenance=true
</span><span id="__span-20-6"><a id="__codelineno-20-6" name="__codelineno-20-6" href="#__codelineno-20-6"></a>com.bigdata.rdf.sail.namespace=islandora
</span><span id="__span-20-7"><a id="__codelineno-20-7" name="__codelineno-20-7" href="#__codelineno-20-7"></a>com.bigdata.rdf.store.AbstractTripleStore.quads=false
</span><span id="__span-20-8"><a id="__codelineno-20-8" name="__codelineno-20-8" href="#__codelineno-20-8"></a>com.bigdata.namespace.islandora.lex.com.bigdata.btree.BTree.branchingFactor=400
</span><span id="__span-20-9"><a id="__codelineno-20-9" name="__codelineno-20-9" href="#__codelineno-20-9"></a>com.bigdata.journal.Journal.groupCommit=false
</span><span id="__span-20-10"><a id="__codelineno-20-10" name="__codelineno-20-10" href="#__codelineno-20-10"></a>com.bigdata.namespace.islandora.spo.com.bigdata.btree.BTree.branchingFactor=1024
</span><span id="__span-20-11"><a id="__codelineno-20-11" name="__codelineno-20-11" href="#__codelineno-20-11"></a>com.bigdata.rdf.store.AbstractTripleStore.geoSpatial=false
</span><span id="__span-20-12"><a id="__codelineno-20-12" name="__codelineno-20-12" href="#__codelineno-20-12"></a>com.bigdata.rdf.store.AbstractTripleStore.statementIdentifiers=false
</span></code></pre></div></p>
<p><code>/opt/blazegraph/conf/inference.nt | tomcat:tomcat/644</code>
<div class="language-text copy highlight"><pre><span></span><code><span id="__span-21-1"><a id="__codelineno-21-1" name="__codelineno-21-1" href="#__codelineno-21-1"></a>&lt;http://pcdm.org/models#memberOf&gt; &lt;http://www.w3.org/2002/07/owl#inverseOf&gt; &lt;http://pcdm.org/models#hasMember&gt; .
</span><span id="__span-21-2"><a id="__codelineno-21-2" name="__codelineno-21-2" href="#__codelineno-21-2"></a>&lt;http://pcdm.org/models#fileOf&gt; &lt;http://www.w3.org/2002/07/owl#inverseOf&gt; &lt;http://pcdm.org/models#hasFile&gt; .
</span></code></pre></div></p>
<h3 id="specifying-the-rwstoreproperties-in-java_opts">Specifying the <code>RWStore.properties</code> in <code>JAVA_OPTS</code><a class="headerlink" href="#specifying-the-rwstoreproperties-in-java_opts" title="Permanent link">&para;</a></h3>
<p>In order to enable our configuration when Tomcat starts, we need to add the location of <code>RWStore.properties</code> to the existing <code>JAVA_OPTS</code> environment variable that Tomcat uses in <code>/opt/tomcat/bin/setenv.sh</code>: <code>-Dcom.bigdata.rdf.sail.webapp.ConfigParams.propertyFile=/opt/blazegraph/conf/RWStore.properties -Dlog4j.configuration=file:/opt/blazegraph/conf/log4j.properties</code></p>
<h3 id="restarting-tomcat_1">Restarting Tomcat<a class="headerlink" href="#restarting-tomcat_1" title="Permanent link">&para;</a></h3>
<p>Finally, restart Tomcat to pick up the changes we’ve made.</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-22-1"><a id="__codelineno-22-1" name="__codelineno-22-1" href="#__codelineno-22-1"></a>sudo<span class="w"> </span>systemctl<span class="w"> </span>restart<span class="w"> </span>tomcat
</span></code></pre></div>
<h3 id="installing-blazegraph-namespaces-and-inference">Installing Blazegraph Namespaces and Inference<a class="headerlink" href="#installing-blazegraph-namespaces-and-inference" title="Permanent link">&para;</a></h3>
<p>The two other files we created, <code>blazegraph.properties</code> and <code>inference.nt</code>, contain information that Blazegraph requires in order to establish and correctly use the datasets Islandora will send to it. First, we need to create a dataset - contained in <code>blazegraph.properties</code> - and then we need to inform that dataset of the inference set we have contained in <code>inference.nt</code>.</p>
<p><div class="language-bash copy highlight"><pre><span></span><code><span id="__span-23-1"><a id="__codelineno-23-1" name="__codelineno-23-1" href="#__codelineno-23-1"></a>curl<span class="w"> </span>-X<span class="w"> </span>POST<span class="w"> </span>-H<span class="w"> </span><span class="s2">&quot;Content-Type: text/plain&quot;</span><span class="w"> </span>--data-binary<span class="w"> </span>@/opt/blazegraph/conf/blazegraph.properties<span class="w"> </span>http://localhost:8080/blazegraph/namespace
</span></code></pre></div>
If this worked correctly, Blazegraph should respond with "CREATED: islandora" to let us know it created the islandora namespace.
<div class="language-bash copy highlight"><pre><span></span><code><span id="__span-24-1"><a id="__codelineno-24-1" name="__codelineno-24-1" href="#__codelineno-24-1"></a>curl<span class="w"> </span>-X<span class="w"> </span>POST<span class="w"> </span>-H<span class="w"> </span><span class="s2">&quot;Content-Type: text/plain&quot;</span><span class="w"> </span>--data-binary<span class="w"> </span>@/opt/blazegraph/conf/inference.nt<span class="w"> </span>http://localhost:8080/blazegraph/namespace/islandora/sparql
</span></code></pre></div>
If this worked correctly, Blazegraph should respond with some XML letting us know it added the 2 entries from inference.nt to the namespace.</p>

  <hr>
<div class="md-source-file">
  <small>
    
      Last update:
      <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date">June 9, 2025</span>
      
    
  </small>
</div>





                
              </article>
            </div>
          
          
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      <b>This documentation is user-sourced!</b> Suggestions and comments are welcome in our <u><a href="https://github.com/Islandora/documentation/issues" target="_blank">issue queue</a></u>.
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        <div class="md-social">
  
    
    
    
    
      
      
    
    <a href="https://twitter.com/islandora" target="_blank" rel="noopener" title="twitter.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "../../..", "features": ["content.action.edit"], "search": "../../../assets/javascripts/workers/search.db81ec45.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../../assets/javascripts/bundle.4b2c34cd.min.js"></script>
      
    
  </body>
</html>